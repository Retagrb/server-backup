# 【数学】导数

## 极限

### 定义

【描述】

一个变量趋近于一个固定量，趋近的程度小于任何给定的正数，这个固定量就叫做这个变量的极限。

【严格定义】

对于无穷数列 $\{a_n\}$ 及常数 $A$，若对于任意 $\varepsilon > 0$，总存在正整数 $\mathrm N$，使得当 $n > \mathrm N$ 时，总有 $|a_n - A| < \varepsilon$，则称作数列 $\{a_n\}$ 的极限是 $A$，记作 $\lim \limits_{n \to +\infty} = A$。

> 对于极限的理解：
>
> 极限是一个变量（数），是可以无限接近的定值。
>
> 注意：无限接近 $\ne$ 不能取到，即极限可以被取到。

## 导数的概念

### 定义

设函数 $y = f(x)$ 在 $x_0$ 及其附近有意义，如果 $\lim \limits_{\Delta x \to 0} \dfrac{f(x_0 + \Delta x) - f(x_0)}{\Delta x}$ 存在，则称 $f'(x_0) = \lim \limits_{\Delta x \to 0} \dfrac{f(x_0 + \Delta x) - f(x_0)}{\Delta x}$ 为函数 $y = f(x)$ 在 $x_0$ 处的导数。

所以导数就是函数的瞬时变化率。

> 例：已知函数 $f(x) = 2x^2 + 1$，计算 $f'(1)$。
>
> 求解：
>
> $$
> \begin{aligned}
> f'(1) & = \lim \limits_{\Delta x \to 0} \dfrac{f(1 + \Delta x) - f(1)}{\Delta x}\\
> & = \lim \limits_{\Delta x \to 0} \dfrac{2(1 + \Delta x)^2 + 1 - (2 \times 1^2 + 1)}{\Delta x}\\
> & = \lim \limits_{\Delta x \to 0} \dfrac{4\Delta x + 2(\Delta x)^2}{\Delta x}\\
> & = \lim \limits_{\Delta x \to 0} (4 + 2\Delta x) \\
> & = 4
> \end{aligned}
> $$

### 导函数

如果 $f(x)$ 在区间 $(a,b)$ 上的每一个点 $x$ 处都有导数，导数值记为 $f'(x):f’(x) = \lim \limits_{\Delta x \to 0} \dfrac{f(x + \Delta x) - f(x)}{\Delta x}$，则 $f'(x)$ 构成一个关于 $x$ 的新函数，把这个函数称为 $f(x)$ 的导函数。

一般情况下：导函数简称为导数，所以i题目中计算导函数一般都是计算某个函数的导数。

> 例 1：求函数 $f(x) = \dfrac 3 x$ 的导函数 $f'(x)$。
>
> 求解：
>
> $$
> \begin{aligned}
> f'(x) & = \lim \limits_{\Delta x \to 0} \dfrac{f(x + \Delta x) - f(x)}{\Delta x}\\
> & = \lim \limits_{\Delta x \to 0} \dfrac{\dfrac{3}{x + \Delta x} - \dfrac 3 x}{\Delta x}\\
> & = \lim \limits_{\Delta x \to 0} \dfrac{-3 \Delta x}{x^2 + x \Delta x} \cdot \dfrac 1 {\Delta x}\\
> & = \lim \limits_{\Delta x \to 0} \dfrac{-3}{x^2 + x \Delta x}\\
> & = - \dfrac 3 {x^2}
> \end{aligned}
> $$
>
> 例 2：已知 $\lim \limits_{\Delta x \to 0} \dfrac{f(x_0 + 3\Delta x ) - f(x_0)}{\Delta x} = 1$，求 $f'(x_0)$。
>
> 求解：
>
> 由于
>
> $$
> \begin{aligned}
> f'(x_0) & = \lim \limits_{\Delta x \to 0} \dfrac{f(x_0 + 3 \Delta x) - f(x_0)}{3 \Delta x}\\
> & = \dfrac 1 3 \lim \limits_{\Delta x \to 0} \dfrac{f(x_0 + 3\Delta x) - f(x_0)}{\Delta x}\\
> & = \dfrac 1 3
> \end{aligned}
> $$
>
> 例 3：已知函数 $f(x)$ 在 $\mathrm R$ 上可导，$\lim \limits_{\Delta x \to 0} \dfrac{f(x_0 + 3 \Delta x) - f(x_0 - \Delta x)}{\Delta x} = 2$，求 $f'(x_0)$。
>
> 求解：
>
> $$
> \begin{aligned}
> &\lim \limits_{\Delta x \to 0} \dfrac{f(x_0 + 3 \Delta x) - f(x_0 - \Delta x)}{\Delta x} = 2\\
> \iff & \lim \limits_{\Delta x \to 0} \dfrac{f(x_0 + 3\Delta x) - f(x_0) + f(x_0) - f(x_0 - \Delta x)}{\Delta x} = 2\\
> \iff & \lim \limits_{\Delta x \to 0} \dfrac{f(x_0 + 3\Delta x) - f(x_0)}{\Delta x} + \lim \limits_{\Delta x \to 0} \dfrac{f(x_0) - f(x_0 - \Delta x)}{\Delta x} = 2\\
> \iff & 3 \times \lim \limits_{\Delta x \to 0} \dfrac{f(x_0 + 3 \Delta x) - f(x_0)}{3 \Delta x} + \lim \limits_{\Delta x \to 0} \dfrac{f(x_0 - \Delta x) - f(x_0)}{- \Delta x} = 2\\
> \iff & 4f'(x_0) = 2\\
> \iff & f'(x_0) = \dfrac 1 2
> \end{aligned}
> $$
>
> 计算某点的导数，有两个关键点：
>
> - 将 $x_0$ 作为基准点；
> - 分子分母保持一致（函数值的变化量和自变量的变化量保持一致）。

### 几何意义

<img src="https://s2.loli.net/2024/05/20/DsQj4g7b1uUwKiF.png" style="zoom:50%;" />

如图所示，上图为 $f(x)$ 的图象，则函数的平均变化率就为：

$$
\dfrac{f(x + \Delta x) - f(x)}{\Delta x}
$$

相当于相当于纵坐标的变化量 $\Delta y$ 除以横坐标变化量 $\Delta x$，即 $\dfrac{\Delta y}{\Delta x}$，所以平均变化率的几何意义就是直线 $AB$ 的斜率。

当 $\Delta x$ 无限趋于 $0$ 时，函数的瞬时变化率就是 $f(x)$ 的导数，如下：

$$
f'(x) = \lim_{\Delta x \to 0} \dfrac{f(x + \Delta x) - f(x)}{\Delta x}
$$

即点 $B$ 无限趋于点 $A$，$AB$ 无限趋于函数在点 $A$ 处的切线，$f'(x)$ 就是函数 $f(x)$ 在 $A$ 处的切线斜率。

总结：对于任意可导函数 $y = f(x)$ 来说， $f(x)$ 在 $x_0$ 处的导数，是 $f(x)$ 的图象在 $x_0$ 处切线的斜率，所以通过 $f'(x_0)$ 和 $x_0$ 处点的坐标，可以根据「点斜式」求出切线的方程。

应用：判断某直线是否为某函数 $f(x)$ 的切线，可以通过求出该直线与 $f(x)$ 交点 $O$，在求出函数 $f(x)$ 在 $O$ 点的导数，即为 $f(x)$ 在 $O$ 点的切线斜率，若该斜率等于直线斜率，则该直线是函数 $f(x)$ 的切线。

> 注意：
>
> - 对直线而言，直线对应函数的导数的几何意义是直线的斜率。
> - 如果一个函数在某一点同时存在左极限和右极限，且左极限 $=$ 右极限，则说明该函数在该点极限存在；如果一个函数在某一点左极限和右极限有一个不存在，或左极限 $\ne$ 右极限，则说明该函数在该点极限不存在。

## 计算

### 基本初等函数的导数公式

|                           $f(x)$                           |           $f'(x)$           |
| :-----------------------------------------------------------: | :---------------------------: |
|                     $c$（$c$ 为常数）                     |             $0$             |
| $x^\alpha$（$\alpha \in \mathrm Q$，且 $\alpha \ne 0$） |   $\alpha x^{\alpha - 1}$   |
|                          $\sin x$                          |          $\cos x$          |
|                          $\cos x$                          |         $- \sin x$         |
|                            $e^x$                            |            $e^x$            |
|                           $\ln x$                           |        $\dfrac 1 x$        |
|                    $a^x(a > 0,a \ne 1)$                    |         $a^x \ln a$         |
|                  $\log_a x(a > 0,a \ne 1)$                  | $\dfrac 1 {x \ln a}(x > 0)$ |

> 注：$\mathrm Q$ 是有理数集。

### 导数的运算法则

#### 函数和（差）的求导法则

两个函数和（差）的导数等于它们各自的导数再相加（相减），即：

$$
[f(x) \pm g(x)]' = f'(x) \pm g'(x)
$$

#### 函数积的求导法则

两个函数积的导数等于第一个函数乘上第二个函数的导数与第二个函数乘上第一个函数的导数相加，即：

$$
[f(x)g(x)]' = f'(x)g(x) + f(x)g'(x)
$$

口诀：前导后不导 $+$ 前不导后导。

> 推广：
>
> $$
> [cf(x)]' = c'f(x) + cf'(x) = cf'(x)
> $$
>
> 其中 $c$ 是常数。

> 技巧——与 $e^x$ 有关的函数积的求导：
>
> $$
> [e^x\cdot f(x)]' = e^x\cdot [f(x) + f'(x)]
> $$

#### 函数商的求导法则

两个函数商的求导规则：

$$
\left[\dfrac{f(x)}{g(x)}\right]' = \dfrac{f'(x)\cdot g(x) - f(x)\cdot g'(x)}{g^2(x)}(g(x) \ne 0)
$$

分子口诀：上导下不导 $-$ 下导上不导。

> 技巧——与 $e^x$ 有关的函数商的求导：
>
> $$
> \left[\dfrac{f(x)}{e^x}\right]' = \dfrac{f'(x) - f(x)}{e^x}
> $$

#### 复合函数的求导法则

一般地， 对于由 $y = f(u)$ 和 $u = g(x)$ 复合而成的导数 $y = f(g(x))$，它的导数与函数 $y = f(u),u = g(x)$ 的导数间的关系为

$$
{y_x}' = {y_u}'\cdot {u_x}'
$$

即 $y$ 对 $x$ 的导数等于 $y$ 对 $u$ 的导数与 $u$ 对 $x$ 的导数的乘积。

步骤：

- 将一个函数拆成两个函数复合而成，甚至多个函数复合而成的结果。
- 分别求出每个函数的导数，再相乘。

> 例：求函数 $y = \sin 3x$ 的导数。
>
> 求解：
>
> 令 $t = 3x$，则 $y = \sin t$，那么：
>
> $$
> \begin{aligned}
> {y_x}' & = {y_t}' \cdot {t_x}'\\
> & = (\sin t)' \cdot (3x)'\\
> & = 3\cos t\\
> & = 3\cos 3x
> \end{aligned}
> $$
>
> 注意：最后一定要把式中的 $t$ 替换为 $x$，因为求的是 $y$ 关于 $x$ 的函数。

对于比较复杂的函数可以直接从最外层直接计算，例如：求 $y = \sin^3 (2x + 1)$ 的导数。

那么有

$$
\begin{aligned}
y' & = 3 \sin^2 (2x + 1)\cdot \cos (2x + 1) \cdot 2\\
& = 6 \sin^2 (2x + 1)\cdot \cos (2x + 1)
\end{aligned}
$$

#### 函数求导法则的综合运用

策略：化整为零，逐个突破。

步骤：

1. 分析函数的组合方式，
2. 用对应法则拆解函数逐个求导。

例：求函数 $y = \dfrac{\sin 2x}{2^x - 1}$ 的导数。

求解：

首先它整体上是函数商的形式，分子是一个复合函数，分母是函数差的形式，考虑分别求解。

$$
\begin{aligned}
y' & = \dfrac{(\sin 2x)'(2^x - 1) - (\sin 2x)(2^x - 1)'}{(2^x - 1)^2}\\
& = \dfrac{2\cos 2x\cdot (2^x - 1) - \sin 2x \cdot 2^x\ln 2}{(2^x - 1)^2}
\end{aligned}
$$

### 导数计算的相关技巧及注意事项

1. 求导时需要分清自变量与常数，例如 $f(x) = \sin \alpha - \cos x$，这里的 $\alpha$ 是常数，所以 $f(x)$ 中 $\sin \alpha$ 的导数应该是 $0$，而不是 $\cos \alpha$。
2. 遇到形式不熟悉的式子，可以考虑观察其本质再根据一般情况下处理。

---

例：已知函数 $f(x)$ 满足 $f(x) = f'(1) e^{x-1} - f(0)x + \dfrac 1 2 x^2$，求 $f(x)$ 的解析式。

求解：观察式子可以发现，题目中给定的 $f'(1)$ 和 $f(0)$ 实际上是具体的函数值，即其本质是数，所以考虑令 $a = f'(1),b = f(0)$。

则

$$
f(x) = ae^{x-1} - bx + \dfrac 1 2 x^2
$$

问题转化为求式中的 $a$ 和 $b$。

令 $x = 0$，则

$$
f(0) = ae^{-1} = \dfrac a e \implies b = \dfrac a e \qquad (1)
$$

对 $f(x)$ 求导：

$$
f'(x) = ae^{x-1} - b + x \implies f'(1) = a - b + 1 \implies a = a - b + 1 \implies b = 1 \qquad (2)
$$

结合 $(1)$ 和 $(2)$ 可得 $a = e,b=1$。

所以

$$
f(x) = e^x - x + \dfrac 1 2 x^2
$$

## 导数中的切线问题

### 解题思路&方法

若题目中出现了切线/切线方程，则需要通过题目求出/找出「切点坐标」、「切线斜率」和「切线方程」，这三点是导数切线问题的三要素。

切点坐标：$(x_0,f(x_0))$。若题目已知切点坐标，则直接使用；未知切点坐标，则需要将其设出来之后再使用。即**有则用之，无则设之**。

切线斜率：$k = f'(x_0)$。

切线方程：$y - f(x_0) = f'(x_0)(x - x_0)$。

> 注意：
>
> - 题目描述中「**在**某点处的切线方程」与「**过**某点的切线方程」不同，前者表示给定点**必须是切点**，而后者表示给定点**不一定是切点**，一般后者需要设出切点。
> - 对于有些需要解方程的题目，若方程直接不好解，可以考虑猜出它的解，但是对于猜的解需要验证解的个数，或只有这一个解，这时候可以通过判断对应函数单调性来判断解的个数。例如：$\ln x_0 - \dfrac e {x_0} = 0$ 容易猜出 $x_0 = e$ 是原方程的解，同时由于函数 $g(x) = \ln x_0 - \dfrac e {x_0}$ 在 $(0, + \infty)$ 上单调递增，所以有唯一解 $x_0 = e$。
> - 有时候需要会翻译题目条件，例如题目条件是某函数 $f(x)$ 的图像上存在两点，使得函数的图象在这两点处的切线相互垂直，可以翻译条件为：$\exists~ a,b,f'(a)\cdot f'(b) = -1$。

### 例题

例 1：已知函数 $f(x) = \dfrac 1 x,g(x) = x^2$。若直线 $l$ 与曲线 $f(x),g(x)$ 都相切，则直线 $l$ 的斜率是多少。

求解：

根据题意可知直线 $l$ 是曲线 $f(x)$ 和 $g(x)$ 的**公切线**，考虑对于两个函数分别求出切线方程再求解。

对于 $f(x)$：

$$
f'(x) = - \dfrac 1 {x^2}
$$

设切点坐标为 $\left(a, \dfrac 1 a\right)$，则切线斜率 $k_1 = f'(a) = - \dfrac 1 {a^2}$，切线方程为 $y - \dfrac 1 a = - \dfrac 1 {a^2}(x - a)$，化简得 $y = - \dfrac 1 {a^2} x + \dfrac 2 a$。

对 $g(x)$：

$$
g'(x) = 2x
$$

切点坐标为 $(b,b^2)$，则切线斜率 $k_2 = g'(b) = 2b$，切线方程为 $y - b^2 = 2b(x - b)$，即 $y = 2bx - b^2$。

由于直线 $l$ 是两曲线的公切线，所以 $l$ 需要同时满足 $f(x)$ 和 $g(x)$ 的切线方程。

所以考虑「待定系数法」可得：

$$
\begin{cases}
- \dfrac 1 {a^2} = 2b\\
\dfrac 2 a = -b^2
\end{cases}
\implies
\begin{cases}
\dfrac 1 {a^2} = -2b\\
\dfrac 4 {a^2} = b^4
\end{cases}
\implies b^4 = -8 b \implies b = 0~或~-2
$$

由于当 $b = 0$ 时，根据 $\dfrac 1 {a^2} = -2b$ 可知 $a$ 无解，所以 $b = -2$。

此时直线 $l$ 的斜率为 $k_2 = 2b = -4$。

> 总结&技巧：
>
> - 解决两曲线的「公切线」问题，可以单独将两曲线的切线方程表示出来，再通过「待定系数法」求出对应参数的解。
> - 遇到出现**多个根**的情况，需要根据之前的计算/题目条件排除是否存在增根。

---

例 2：$y = f(x)$ 的图象如下，$f'(x)$ 为其导函数，则 $f'(1),f'(2),f(2) - f(1)$ 三者之间的大小关系是什么。

<img src="https://s2.loli.net/2024/05/20/k4cuEgm87WSJVrX.png" style="zoom:50%;" />

求解：

$f'(1)$ 和 $f'(2)$ 的几何意义是函数 $f(x)$ 在 $x = 1$ 和 $x = 2$ 处的斜率，根据图象可知 $f'(1) < f'(2)$。

$f(2) - f(1)$ 可以可以看做 $x = 2$ 时的纵坐标减去 $x = 1$ 时的纵坐标，考虑将其转化为斜率求解。

图象上 $(1,f(1))$ 和 $(2,f(2))$ 两点的连线斜率 $k$ 恰好等于 $\dfrac{f(2) - f(1)}{2 - 1} = f(2) - f(1)$，根据图象可知 $f'(1) < f(2) - f(1) < f'(2)$。

> 总结&技巧：这道题最关键的就是 $f(2) - f(1)$ 的转化，以后遇到类似形式（两纵坐标之差）可以考虑将其转化为对应的斜率求解。

## 用导数研究单调性

### 导数与单调性的关系

对于函数 $f(x)$，在 $(a,b)$ 上：

- 若 $f'(x) > 0$，则 $f(x)$ 单调递增；
- 若 $f'(x) < 0$，则 $f(x)$ 单调递减。

> 注意：可以通过导数的正负推出对应区间上函数的增减性，但不能通过函数增减性推出导数的正负。例如：$f(x) = x^3$ 在 $\mathrm R$ 上单调递增，但 $f'(0) = 0$。
>
> 正确说法：若 $f(x)$ 单调递增，则 $f'(x) \ge 0$ 且 $f(x)$ 的零点不连续。
>
> 由于一般题目都满足 $f(x)$ 零点不连续，所以当题目已知 $f(x)$ 单调递增（递减）时，相当于告诉 $f'(x) \ge 0$ 或 $f'(x) \le 0$

**例题**

已知函数 $f(x) = \sin 2x + 4 \cos x - ax$ 在 $\mathrm R$ 上单调递减，则实数 $a$ 的取值范围是多少。

求解：

根据题意：

$$
f'(x) = 2\cos 2 x - 4 \sin x - a \le 0 \implies a \ge 2 \cos 2x - 4 \sin x
$$

令 $g(x) = 2 \cos 2x - 4 \sin x$，则 $a \ge g(x)_{\max}$。

由于

$$
\begin{aligned}
g(x) & = 2 \cos 2x - 4 \sin x\\
& = 2(1 - 2\sin^2 x) - 4 \sin x\\
& = -4\sin^2 x - 4\sin x + 2
\end{aligned}
$$

令 $t = \sin x$，则 $t \in [-1,1]$，所以 $g(x) = -4t^2 - 4t + 2$。

所以当 $t = - \dfrac 1 2$ 时，$g(x)_{\max} = 3$，所以 $a \ge 3$。

### 求函数单调区间

求解步骤：

1. 确定函数 $f(x)$ 的定义域。
2. 求出函数 $f(x)$ 的导数 $f'(x)$。
3. 研究导数 $f'(x)$ 的正负求出对应 $x$ 的取值范围，即为单调递增和递减时自变量的范围。

第三步中，对于较简单的函数一般可以直接令 $f'(x) >0$ 或 $f'(x) < 0$ **解不等式**求出对应的单调区间，一般解不等式有**直接求解**和**因式分解**两种办法。一般含有 $\ln x$ 或 $e^x$ 的导数，可以考虑看看能不能将 $\ln x$ 或 $e^x$ 放到一起然后因式分解。

而对于较为复杂的导数（不能直接通过解不等式求出），研究导数的正负需要分别研究「导数的单调性」和「导数的零点 或 导数的极值点（导数函数图像的最低点或最高点）」。

对于导数的单调性，可利用学习函数中求导数单调性的一般方法来求（比如**直接观察法**），也可以**二次求导**之后根据**二次导数**的正负来求。

导数的单调性一般有两种情况：

- 若求得的导数单调性是**先减后增**或**先增后减**，此时需要关注**最低点**或**最高点**处的导数值，即导数的极值点。若导数为先减后增，则最低点一般情况下 $\ge 0$，这样可以保证整个导数也 $\ge 0$；先增后减同理。例如 $f(x) = 1 - \dfrac{\ln x}{x}$ 在 $(0,e)$ 上单减，$(e,+ \infty)$ 上单增，那么由于 $f(x)_{\min} = f(e) = 1 - \dfrac 1 e > 0$，所以 $f(x) > 0$ 恒成立。
- 若求得的导数本身是**单调递增**或**单调递减**，那么此时一般导数有一个零点。对于导数的零点，可以令 $f'(x) = 0$ 然后解出或猜出方程的解从而求出零点。一般涉及到 $\ln$ 的方程可以猜测方程的解等于 $1$ 之类特殊的解然后代入方程中验证，例如 $\ln (x - 1) = 0$，考虑到 $\ln 1 = 0$，那么可以直接猜测 $x = 2$。

有时候不仅仅需要二次求导，可能还需要三次求导。

总结：研究函数单调性，可以求导，看导数的正负；导数的正负，不能直接判断时，就找单调性和零点或极值点。

> 注意：
>
> - 函数的单调区间必须是其**定义域的子区间**，所以最后求得的结果必须跟定义域取交集。
> - 由于单个点上没有单调性，所以高中阶段用导数求得函数的单调区间**统一写成开区间**。
> - 单调区间用「，」或「和」连接，不能写「$\cup$」。
> - 有时候求出导数单调性后，要求导数的正负时，可以通过绘制导数图象，然后根据图象求解。一般根据零点和最值点求解。

### 导数图象与函数图象转化

基本思路：

1. 明确：明确给定的是函数图象还是导数图象。
2. 分段：如果给定**函数图象**，则按照增减区间分段；如果给定**导数图象**，则按照函数值正负判断。
3. 翻译：将函数的增减（导数的正负）转化为导数的正负（函数的增减）。

## 构造函数判断大小关系

### 问题模型

一般题目会给定有关某个函数导数 $f'(x)$ 不等式，要求解有关 $f(x)$ 的不等式。

### 基本思路

1. 将题目给定的有关 $f'(x)$ 不等式，不等号的右边变为 $0$，左边转化为某函数的导数 $g'(x)$。
2. 再根据导数构造函数 $g(x)$，求出 $g(x)$ 的单调性。
3. 将剩下所有条件都表示称 $g(x)$ 的形式，再解不等式。

### 构造函数的常见类型

#### 类型一 $xf'(x) + nf(x)$ 型

构造函数 $g(x) = x^n f(x)$，则：

$$
g'(x) = x^n f'(x) + nx^{n-1}f(x) = x^{n-1}(xf'(x) + nf(x))
$$

当 $n - 1$ 为偶数时，$x^{n-1} \ge 0$；

当 $n-1$ 为奇数时，需要讨论 $x^{n-1}$ 的正负。

通过 $x^{n-1}$ 的正负和 $xf'(x) + nf(x)$ 从而判断 $g'(x)$ 的正负。

> 注意：
>
> - 这里的 $n$ 不光可以是正整数，还可以是负数或分数。
> - 有时 $f'(x)$ 的系数可以不是 $x$，例如对于 $f(x) + (x + 1)f'(x)$ 也可以构造函数 $g(x) = (x+1)f(x)$。

#### 类型二 $f'(x) + nf(x)$ 型

构造函数 $g(x) = e^{nx} f(x)$，则：

$$
g'(x) = e^{nx} f'(x) + ne^{nx} f(x) = e^{nx}(f'(x) + nf(x))
$$

由于 $e^x > 0$，所以 $g'(x)$ 的正负与 $f'(x) + nf(x)$ 的正负相同。

> 注意：
>
> - 系数 $n$ 在 $f(x)$ 对应的项上。
> - $n$ 除了可以是正整数，还可以是负数/分数。

对于不能直接构造函数的情况，需要先变形再构造函数。

例如 $\dfrac 1 x f(x) + f'(x) > 0,x \in (0,+\infty)$，可先对两边同时乘 $x$ 得到 $f(x) + xf'(x) > 0$。

### 构造函数的通用方法

1. 将题目中给定的不等式中的不等号变成等号：
2. 通过变形（一般是除以 $f(x)$ 的系数）使得得到的等式中 $f'(x)$ 的系数变为 $1$；
3. 找到 $f(x)$ 前的式子是谁的导数。
4. 第三步的结果放到 $e$ 的指数上，再乘 $f(x)$，就是要构造的函数。

例如：对于不等式 $xf'(x) + 2f(x) > 0$，由于

$$
xf'(x) + 2f(x) = 0 \implies f'(x) + \dfrac 2 x f(x) = 0
$$

由于 $2\ln x$ 的导数是 $\dfrac 2 x$，所以构造函数 $g(x) = e^{2\ln x}f(x) = (e^{\ln x})^2 f(x) = x^2 f(x)$。

### 例题

例 1：已知函数 $f(x)$ 为 $\mathrm R$ 上的可导函数，$f(1) = 1,f'(x) > -2$，解不等式 $f(x) > 3 - 2x$。

求解：

根据 $f'(x) > -2$ 可推出 $f'(x) + 2 > 0$。

设 $g(x) = f(x) + 2x$，则 $g'(x) > 0$，所以 $g(x)$ 单调递增。

根据

$$
\begin{aligned}
& f(x) > 3 - 2x\\
\implies & f(x) + 2x > 3\\
\implies & g(x) > g(1) = f(1) + 2\times 1 = 3\\
\implies & x > 1
\end{aligned}
$$

---

例 2：若定义在 $\mathrm R$ 上的函数 $f(x)$ 满足 $f'(x) - 2f(x) - 4 > 0,f(0) = -1$，解不等式 $f(x) > e^{2x} - 2$。

求解：

对于 $f'(x) - 2f(x)$，可构造函数 $g(x) = e^{-2x}f(x)$，则：

$$
g'(x) = e^{-2x}f'(x) -2 e^{-2x} f(x) = e^{-2x}(f'(x)-2f(x))
$$

所以考虑给原不等式 $f'(x) - 2f(x) - 4 > 0$ 两边同时乘 $e^{-2x}$ 得到：

$$
e^{-2x}(f'(x) - 2f(x)) - 4e^{-2x} > 0
$$

所以现在只需要判断 $4e^{-2x}$ 是谁的导数。

发现 $e^{-2x}$ 的导数是 $-2 e^{-2x}$，所以 $-4e^{-2x}$ 是 $2e^{-2x}$ 的导数。

那么构造函数

$$
F(x) = e^{-2x}f(x) + 2e^{-2x} = e^{-2x}(f(x) + 2)
$$

则

$$
F'(x) = e^{-2x}(f'(x) - 2f(x) - 4)
$$

由于 $e^{-2x} > 0,f'(x) - 2f(x) - 4 > 0$，所以 $F'(x) > 0$，则 $F(x)$ 在定义域上单调递增。

对于不等式

$$
\begin{aligned}
& f(x) > e^{2x} - 2\\
\iff & f(x) + 2 > e^{2x}\\
\iff & e^{-2x}(f(x) + 2) > e^{2x}\cdot e^{-2x}\\
\iff & F(x) >1\\
\end{aligned}
$$

由于 $F(0) = \dfrac{f(0) + 2}{e^{2\times 0}} = 1$，所以 $F(x) > F(0)$，所以 $x > 0$。

## 用导数研究极值

### 定义

极值指函数的局部最值。即，函数上某个点比其周围的每个点的值都大，则该点是该函数的极大值。

如下图：

<img src="https://s2.loli.net/2024/05/20/5Ur2gNWyo7C6ZhI.png" style="zoom:50%;" />

则 $a,c,e$ 对应三个极大值，$b,d$ 对应两个极小值。

> 辨析——极大值与极大值点：
>
> 极大值点指的是对应点的横坐标，例如上图中 $x=a$ 是 $f(x)$ 的一个极大值点。
>
> 极大值指的是对应点的函数值，例如上图中 $f(a)$ 是 $f(x)$ 的一个极大值。

### 性质

可导函数在极值点处导数一定为 $0$。**但是，导数为 $0$ 的点不一定是极值点**。即：$f'(x_0) =0$ 是 $f(x)$ 在 $x = x_0$ 处取极值的**必要不充分**条件。

例如：对于函数 $f(x) = x^3$，其 $f'(x) = 3x^2$，当 $x=0$ 时，$f'(0) = 0$，但 $x=0$ 不是 $f(x)$ 的一个极值点。

### 求函数极值

一般思路：

1. 定义域：求出给定函数 $f(x)$ 的定义域。
2. 求导&零点：求出 $f'(x)$，令 $f'(x) = 0$，求导数零点 $x_0$。
3. 判断导数零点左右的正负：
   - 若导数**左负右正**，则 $x = x_0$ 是函数 $f(x)$ 的**极小值**点；
   - 若导数**左正右负**，则 $x= x_0$ 是函数 $f(x)$ 的**极大值**点；
   - 若导数**左右两边同正同负**，则 $x = x_0$ **不是**函数 $f(x)$ 的极值点。

### 根据函数极值求参数

一般思路：

1. 定义域：求出给定函数 $f(x)$ 的定义域。
2. 求导：求出 $f'(x)$，并将给定的极值点 $x_0$ 代入 $f'(x)$。
3. 解方程：令 $f'(x_0) = 0$，解方程求得对应参数的值。
4. 检验：检验 $x = x_0$ 是求得的函数 $f(x)$ 的极值点。

> 注意：由于极值点处导数为 $0$ 是函数在该点取极值的**必要不充分条件**，所以解方程求得的解需要检验。一般情况下，解方程若求得**只有一个解**，那绝大多数情况一定成立，可以不验证，但在解答题要写上「经检验」。

> 拓展：
>
> 假设函数 $f(x)$ 在 $x = a$ 处取得极小值，则说明 $f(x)$ 在 $x = a$ 附近先减后增，从而得到 $f'(x)$ 在 $x < a$ 附近 $< 0$，在 $x > a$ 附近 $> 0$，整体上在 $x = a$ 附近单调递增，所以推得 $f''(x)$ 在 $x = a$ 处一定大于 $0$，即 $f''(a) \ge 0$。
>
> 所以若 $f'(a) = 0$ 且 $f''(a) > 0$，则 $x = a$ 是 $f(x)$ 的极小值点。
>
> 同理，若 $f'(a) = 0$ 且 $f''(a) < 0$，则 $x = a$ 是 $f(x)$ 的极大值点。
>
> 特殊地，若 $f'(a) = 0$ 且 $f''(a) = 0$，则结果不确定，即有可能是极值点也可能不是。例如 $f(x) = x^4$，在 $x = 0$ 处 $f'(0) = 0$ 且 $f''(0) = 0$，此时 $x = 0$ 是极小值点。
>
> 注意：以上三个命题，条件和结论并不互为充要条件。
>
> 具体例题详见「导数地分类讨论 - 二次导数 - 能因式分解 - 例题解法二」。

### 例题

例 1：若函数 $f(x) = (x^2+ax + 3)e^x$ 在 $(0,+\infty)$ 内有且仅有一个极值点，则实数 $a$ 的取值范围是什么。

分析：

函数定义域是 $x\in \mathrm R$，求得 $f'(x) = (2x + a)\cdot e^x + (x^2 + ax + 3)\cdot e^x = e^x[x^2 + (a + 2)x + a + 3]$，接下来讨论导数为 $0$ 的情况。

由于 $e^x$ 恒大于 $0$，所以只需要考虑 $g(x) = x^2 + (a + 2)x + a + 3 = 0$。

考虑分类讨论：

- 当 $g(x)$ 与 $x$ 轴**无交点**时，$g(x)$ 不存在零点，不符合题意。
- 当 $g(x)$ 与 $x$ 轴**有一个交点**时，$g(x)$ 恒 $\ge 0$，所以 $f(x)$ 恒单调递增，不存在极值点，不符合题意。
- 当 $g(x)$ 与 $x$ 轴**有两个交点**时，对于 $g(x)$ 与 $x$ 轴的两个交点，设它们分别是 $x_1$ 和 $x_2$（钦定 $x_1$ 在左 $x_2$ 在右），那么对于 $x_1$ 左正右负，对于 $x_2$ 左负右正，二者均满足称为极值点的条件，所以此种情况符合题意。

在上述第三种情况下继续求解，由于题目要求 $f(x)$ 在 $(0,+\infty)$ 内有且仅有一个极值点，那么有 $x_1 \le 0$ 且 $x_2 > 0$。

考虑继续分类讨论：

- 当 $x_1 = 0,x_2 > 0$ 时，有 $g(0) = 0$，解方程可求得 $a = -3$。接下来需要验证此时 $x_2$ 是否 $>0$。可以通过代入 $a = -3$ 到原函数中求得零点验证，也可以使用韦达定理即 $x_1 + x_2 = - (a + 2) = 1$，所以 $x_2 = 1 > 0$，符合题意。、
- 当 $x_1 < 0,x_2 > 0$ 时，这里可以通过 $\Delta > 0$ 且 $x_1x_2 < 0$ 求解，也可以通过画图，如下图可知 $g(0) < 0$ 即 $a < -3$，符合题意。

<img src="https://s2.loli.net/2024/05/20/AdBGgoQTRkJn8If.png" style="zoom:50%;" />

综上所述，$a$ 的取值范围是 $(-\infty,-3]$。

> 总结&技巧：
>
> - 考虑含参二次函数的零点问题时，需要分类讨论，例如本题中 $g(x)$ 的零点问题，需要从与 $x$ 轴的交点个数这个角度来讨论。
> - 对于类似本题中求 $x_1 \le 0,x_2 > 0$ 的问题时，由于 $x_1 < 0 $ 和 $x_1 =0$ 的情况做法不太相同，不容易归并为一类，所以一般考虑分成 $x_1 < 0$ 和 $x_1 = 0$ 两类讨论。
> - 有些时候要善于画图求解，例如本题中函数 $g(x)$ 的零点 $x_1 < 0 $ 且 $x_2 > 0$ 的情况，利用图象法找到对应图像的特性求解更简单。

---

例 2：设函数 $f(x) = x^3 - 3x^2 + 2x$，若 $x_1,x_2(x_1 < x_2)$ 是函数 $g(x) = f(x) - \lambda x$ 的两个极值点，现给出如下结论：

① 若 $-1 < \lambda < 0$，则 $f(x_1) < f(x_2)$；

② 若 $0 < \lambda < 2$，则 $f(x_1) < f(x_2)$；

③ 若 $\lambda > 2$，则 $f(x_1) < f(x_2)$。

其中正确的结论个数是多少个？

---

分析：

对于函数 $g(x)$，其定义域 $x\in \mathrm {R}$，导数 $g'(x) = f'(x) - \lambda x = 3x^2 - 6x + 2 - \lambda$。

由于 $x_1,x_2(x_1 < x_2)$ 是函数 $g(x)$ 的两个极值点，相当于告诉了二次函数 $g'(x)$ 的两个零点分别是 $x_1$ 和 $x_2$，那么可以推出：

$$
\Delta = 36 - 4\times 3(2 - \lambda) > 0 \implies \lambda > -1\\
x_1 + x_2 = 2\\
x_1x_2 = \dfrac{2-\lambda}3{}
$$

观察给定结论发现都是在某个 $\lambda$ 的范围下求 $f(x_1)$ 和 $f(x_2)$ 的大小关系。

考虑对 $f(x)$ **求导**求出 $f(x)$ 的单调性或对 $f(x_1)$ 和 $f(x_2)$ **作差**。思考可知前者不太容易，所以考虑后者。

那么有：

$$
\begin{aligned}{}
& f(x_1) - f(x_2)\\
= ~ & {x_1}^3 - 3{x_1}^2 + 2x_1 - {x_2}^3 + 3{x_2}^2 - 2x_2\\
=~ & (x_1 - x_2)(x_1 + x_1 x_2 + {x_2}^2) - 3(x_1 - x_2)(x_1 + x_2 ) + 2(x_1 - x_2)\\
=~ & (x_1 - x_2)({x_1}^2 + x_1 x_2 + {x_2}^2 - 6 + 2)\\
=~ & (x_1 - x_2)[(x_1 + x_2) ^2 - x_1 x_2 - 4]\\
=~ & (x_1 - x_2)\left(4 - \dfrac{2-\lambda}{3} - 4 \right)\\
=~ & \dfrac{(\lambda - 2)(x_1 - x_2)}{3}
\end{aligned}
$$

由于 $x_1 < x_2$，所以 $x_1 - x_2 < 0$，所以要使得 $f(x_1) < f(x_2)$ 即 $f(x_1) - f(x_2) < 0$，则 $\lambda - 2 >0$ 即 $\lambda > 2$。

所以上述结论中，③ 成立，所以选 B。

> 总结&技巧：
>
> - 遇到涉及到「二次函数的两个零点 $x_1,x_2$」的问题时，需要考虑到**韦达定理**和 $\Delta > 0$，例如本题中 $g'(x)$ 的两个零点相当于已知 $\Delta > 0$ 和有关 $x_1x_2,x_1 + x_2$ 的式子。
> - 涉及到比较两个函数值 $f(x_1)$ 和 $f(x_2)$ 的大小关系的问题，需要想到求解对应函数 $f(x)$ 的**单调性**或**作差法**。

> 拓展——立方和&立方差公式：
>
> $$
> x^3 \pm y^2 = (x \pm y)(x^2 \mp xy + y^2)
> $$

---

例 3：已知函数 $f(x) = 12 - x^2$。设曲线 $y = f(x)$ 在点 $(t,f(t))$ 处的切线与坐标轴围成的三角形的面积为 $S(t)$，求 $S(t)$ 的最小值。

分析：

考虑建立 $S(t)$ 关于 $t$ 的函数。

首先切点为 $(t,f(t))$，切线斜率 $k = f'(t) = - 2t$，切线方程为 $y + t^2 - 12 = - 2t(x - t)$，令 $x = 0$，则 $y = 2t^2 - t^2 + 12 = t^2 + 12$，令 $y = 0$，则 $x = \dfrac {t^2 + 12}{2t}$。

所以

$$
S(t) = \dfrac 1 2 \cdot (t^2 + 12)\cdot \dfrac{t^2 + 12}{|t|},t \ne 0
$$

令 $m = |t|,n > 0$，则 $y = \dfrac 1 4 \cdot \dfrac{(m^2 + 12)^2}{m},m > 0$，现在需要求出它的最小值。考虑求导。

那么

$$
y' = \dfrac 1 4 \cdot \dfrac{2(m^{2}+ 12)\cdot 2m \cdot m - (m^2 + 12)^2}{m^2} = \dfrac 1 4 \cdot \dfrac{(m^2 + 12)(4m^2 - m^2 - 12)}{m^2} = \dfrac{3(m^2 + 12)(m + 2)(m - 2)}{4m^2}
$$

所以当 $0 < m < 2$ 时，$y' < 0$，$y$ 单调减；当 $m > 2$ 时，$y' > 0$，$y$ 单调增。

所以当 $m = 2$ 即 $t = \pm 2$ 时，$S(t)_{\min} = 32$。

> 总结&技巧：
>
> 1. 求解函数最值时，可以考虑求导先求出函数的单调性，然后根据单调性找到最值再求解。参考题中求 $S(t)$ 的最值。
> 2. 对于带绝对值的函数，可以通过证明奇偶性（例如此题中 $S(t)$ 是偶函数）或将绝对值的部分当成一个整体变量来看待，从而求出其相关性质。

## 导数的分类讨论

### 基本原理

导数的正负决定函数的单调性，所以可以根据**导数的正负不同**分类。

零点的个数和分布会决定导数的正负分布区间的个数。

> 一般为了知道导数的正负区间，可以通过画图象的方法（一般需要画出**单调性**和**零点**）来求得。

所以分类讨论的标准如下：

- 讨论有无零点，有几个零点（等价于讨论函数类型）：对于函数类型不确定的函数需要讨论函数类型，对于函数类型确定的函数需要按照下面每种函数对应的情况分类讨论。
- 讨论零点是否在定义域内：若定义域是 $\mathrm R$ 或零点一定在定义域内则不需要讨论。
- 有多个零点时，讨论零点之间的大小关系：若零点之间的大小关系本身确定则不需要讨论，一般情况下需要讨论的零点大都带参数。

> 若函数没有零点，一般导数恒正或恒负，可以直接判断。

> 对于比较复杂的导数，绘制图象是判断导数正负的常见技巧，一般需要画出函数的定义域、零点和单调性这三个关键信息。

### 一次导数

适用范围：一次型函数。

原理：一次项系数不同 $\longrightarrow$ 导数的正负也不同 $\longrightarrow$ 导数正负分布不同 $\longrightarrow$ 零点个数和分布不同。

方法：讨论一次项系数的正负 $+$ 零点是否在定义域内。

讨论**一次项系数的正负**，一般有以下三种情况：

<img src="https://s2.loli.net/2024/05/20/HFVApjPI7aER5wD.png" style="zoom:50%;" />

其中第一幅图为一次项系数为正，第二幅为一次项系数为负，第三幅图一次项系数为 $0$。

当定义域不为 $\mathrm R$ 时，还需要根据**零点是否在定义域内**进行分类讨论，如图所示：

<img src="https://s2.loli.net/2024/05/20/1wl7DedWCptFg82.png" style="zoom:50%;" />

结论：当零点在定义域内部时，一般导数有两个正负区间；当零点不在定义域内部时，一般导数只有一个正负区间。

> 注意：对于一次项系数已知的函数，不需要分类讨论。

### 类一次导数

适用范围：**最多只有一个零点**的导数。

方法：分成**有一个零点**和**没有零点**两种情况讨论，如图所示：

<img src="https://s2.loli.net/2024/05/20/aAl1wxRKHcgY3Ph.png" style="zoom:50%;" />

> 一般情况下需要通过讨论某个方程解的个数来讨论有无零点，例如导数 $f'(x) = ae^x - 2$ 就可以通过解方程 $ae^x =2$ 来判断零点个数。此时需要注意有些参数为 $0$ 的情况，例如解上述方程，给两边同时除以 $a$ 时，需要考虑 $a$ 是否为 $0$。

### 二次导数

#### 能因式分解

适用范围：二次型导数（能因式分解，且二次项系数可能为 $0$）。

方法：讨论二次项系数的正负（$+,-,0$）$+$ 零点的大小关系（$>,<,=$）$+$ 零点是否在定义域内。

若函数求导后，导数是能分解的二次函数，则对于二次项系数不确定的题目，首先需要讨论二次项系数的正负。

> 注意：有的时候导数不一定是个二次函数，所以还需要讨论二次项系数是否为 $0$。

然后考虑先将其因式分解，按照两个零点的**大小关系**进行讨论，有三种情况：

<img src="https://s2.loli.net/2024/05/20/Lylkj5CxNZm6eoR.png" style="zoom:50%;" />

如图所示，若分解所得的两个解分别是 $a$ 和 $3a$，则分别按照 $a < 3a$，$a > 3a$ 和 $a = 3a$ 分类讨论。

根据图象写出导数正负区间和函数单调区间即可。

当定义域不为 $\mathrm R$ 时，还需要讨论**零点是否在定义域内**，如图所示：

<img src="https://s2.loli.net/2024/05/20/x15yrPguFfVanjd.png" style="zoom:50%;" />

对于需要同时讨论零点大小关系和零点是否在定义域内的情况，最好将两种情况的讨论先分别写出，然后再合并，分清楚之后再进行讨论。

本质：讨论有无零点，以及零点间的大小关系。

---

例题：设函数 $f(x) = [ax^2 - (4a + 1)x + 4a + 3]e^x$。若 $f(x)$ 在 $x = 2$ 处取得极小值，求 $a$ 的取值范围。

分析：

解法一：

根据与导数极值问题的一般思路，可以考虑首先求导，再根据 $f'(2) = 0$ 求出 $a$。

那么首先考虑求导：

$$
\begin{aligned}
f'(x) & = [ax^2 - (4a + 1)x + 4a + 3 + 2ax - (4a + 1)]\cdot e^x\\
& = [ax^2 - (2a + 1)x + 2]\cdot e^x\\
& = (ax - 1)(x - 2)\cdot e^x
\end{aligned}
$$

发现此时 $f'(2)$ 恒为 $0$。所以上述思路不成立。

由于一般情况下计算极值点都是从函数单调性入手，所以考虑从 $f(x)$ 单调性入手求解。那么这个题直接处理导数 $f'(x)$ 的单调性和零点即可。

导数有两组解，当 $a \ne 0$ 时，根据 $ax - 1 = 0$ 和 $x - 2 = 0$ 可得到 $x_1 = \dfrac 1 a,x_2 = 2$。

再考虑两个零点的大小关系，当 $\dfrac 1 a = 2$ 时，$a = \dfrac 1 2$。那么对于整个函数，最多需要讨论 $a < 0,a = 0,0 < a < \dfrac 1 2,a = \dfrac 1 2,a > \dfrac 1 2$ 五种情况讨论。

- 当 $a < 0$ 时，$f(x)$ 在 $\left(\dfrac 1 a,2\right)$ 上单调递增，在 $(2, +\infty)$ 上单调递减。此时 $x = 2$ 是极大值点，不符合题意，舍去。
- 当 $a = 0$ 时，$f'(x) = -(x - 2)\cdot e^x$，$f(x)$ 在 $(-\infty,2)$ 上单调递增，在 $(2,+\infty)$ 上单调递减。此时 $x = 2$ 是极大值点，不符合题意，舍去。
- 当 $0 < a < \dfrac 1 2$ 时，$f(x)$ 在 $\left(-\infty,2\right)$ 上单调递增，在 $\left(2, \dfrac 1 a\right)$ 上单调递减。此时 $x = 2$ 是极大值点，不符合题意，舍去。
- 当 $a = \dfrac 1 2$ 时，$f'(x)$ 恒 $\ge 0$，所以 $f(x)$ 在 $\mathrm R$ 上单调递增，无极值点，不符合题意，舍去。
- 当 $a > \dfrac 1 2$ 时，$f(x)$ 在 $\left(\dfrac 1 a,2\right)$ 上单调递减，在 $(2,+\infty)$ 上单调递增，符合题意。

综上所述，$a$ 的取值范围是 $\left(\dfrac 1 2,+\infty\right)$。

> 总结：
>
> 已知某点是极值点，求参数取值范围的问题，一般有两种情况：
>
> - 根据极值点处导数值 $f'(x) = 0$，代入 $x$，直接解出参数取值范围。
> - 极值点处导数恒 $ = 0$，则考虑讨论函数单调性，即讨论导数单调性和零点，分类讨论求解。

---

解法二：

由于 $f(x)$ 在 $x = 2 $ 处取得极小值，所以考虑求导两次求解。

即

$$
\begin{aligned}
f''(x) & = [ax^2 - (2a + 1)x + 2 + 2ax - (2a + 1)]\cdot e^x\\
& = [ax^2 - x - 2a + 1]\cdot e^x
\end{aligned}
$$

所以 $f''(2) = (2a - 1)\cdot e^2$。

- 当 $f''(2) > 0$ 时，即 $2a - 1 > 0$，所以 $a > \dfrac 1 2$，此时 $f'(2) = 0$，所以 $x = 2$ 是 $f(x)$ 的极小值点，符合题意。
- 当 $f''(2) < 0$ 时，即 $2a - 1 < 0$，所以 $a < \dfrac 1 2$，此时 $f''(2) = 0$，所以 $x = 2$ 是 $f(x)$ 的极大值点，不符合题意。
- 当 $f''(2) = 0$ 时，即 $2a - 1 = 0$，所以 $a = \dfrac 1 2$，此时结果不确定，需要检验。当 $a = \dfrac 1 2$ 时，$f'(x)$ 恒 $\ge 0$，所以 $f(x)$ 单调递增，无极值点，不符合题意。

综上所述，$a > \dfrac 1 2$。

> 此方法具体详见「用导数研究极值 - 根据函数极值求参数」。

> 注意：此方法**高中阶段解答题不能直接使用**，选择填空使用该方法可以提速。也可以在做解答题时，提前用此方法计算出答案，然后再利用解法一写过程。同时，通过解法二也可以发现，实际上只需要讨论 $a > \dfrac 1 2,a < \dfrac 1 2,a = \dfrac 1 2$ 三种情况，不需要讨论五种情况，可以简化讨论步骤。
>
> 对于此题，解法一简化讨论次数后，对于 $a < \dfrac 1 2$ 的情况，要证明 $x = 2$ 不是极小值点，则需证明函数在 $x = 2$ 左侧不递减，或右侧不递增。那么只要证明其中一侧单调性不正确即可，由于右侧单调性不确定，所以考虑讨论左侧单调性。选择特殊点 $x = 1$，可求得当 $x \in (1,2)$ 时，$f'(x) > 0$，$f(x)$ 单调递增，所以 $x = 2$ 不是极小值点。

#### 不能因式分解

类型：二次型导数（不能因式分解，且二次项系数可能为 $0$）。

方法：讨论二次项系数（$+,-,0$）$+$ $\Delta$（$\Delta \le 0,\Delta > 0$）$+$ 零点是否在定义域内。

此时可以先通过前两种讨论求出零点，然后再考虑零点是否在定义域内。

判断零点是否在定义域的万能方法是使用**韦达定理**求出 $x_1x_2$ 和 $x_1 + x_2$ 再判断 $x_1$ 和 $x_2$ 的正负。

有时候也可以直接通过函数的特征、二次项系数的范围和定义域来直接判断。二次型函数，考虑分类 $a > 0,a = 0,a < 0$ 讨论。

---

例题：已知函数 $f(x) = (ax^2 - a + 1)e^x(a \in \mathrm R)$，求函数 $f(x)$ 的单调区间。

分析：

首先求出函数 $f(x)$ 的定义域为 $x \in \mathrm R$，导数为

$$
f'(x) = 2ax \cdot e^x + (ax^2 - a + 1)\cdot e^x = (ax^2 + 2ax - a + 1)\cdot e^x
$$

由于 $e^x >0$，所以只需要讨论 $g(x) = ax^2 + 2ax - a + 1 $ 的正负。

由于 $g(x)$ 是一个二次型函数，且二次项系数不确定，所以先要讨论二次项系数的正负，即分为 $a > 0,a < 0,a = 0$ 三种情况。

同时由于 $g(x)$ 不能分解因式，所以考虑分类讨论 $\Delta$ 的正负。

由于 $\Delta = 4a^2 - 4a(-a + 1) = 8a^2 - 4a = 4a(2a - 1)$，所以当 $\Delta \le 0$ 时，$0 < a \le \dfrac 1 2$，当 $\Delta > 0$ 时，$a < 0$ 或 $a > \dfrac 1 2$。

合并上述两种分类讨论，则需要讨论 $\begin{cases}0 < a \le \dfrac 1 2\\a = 0\\ a < 0\\ a > \dfrac 1 2\end{cases}$ 三种情况。

分类讨论如下：

当 $a = 0$ 时，$f'(x) = e^x > 0$，所以 $f(x)$ 在 $\mathrm R$ 上单调递增。

当 $a \ne 0$ 时：

情况一：当 $0 < a \le \dfrac 1 2$ 时，$\Delta \le 0$，$f'(x) \ge 0$，则 $f(x)$ 在 $\mathrm R$ 上单调递增。

情况二：

当 $a < 0$ 时，$\Delta > 0$，令 $f'(x) = 0$，得 $x = \dfrac{-2a \pm 2\sqrt{2a^2 - a}}{2a} = \dfrac{-a \pm \sqrt{2a^2 - a}}{a}$。

所以 $x_1= \dfrac{- a + \sqrt{2a^2 - a}}{a},x_2 = \dfrac{-a - \sqrt{2a^2 - a}}{a}$。此时，$x_1$ 的分子更大，但由于 $a < 0$，所以 $x_1 < x_2$。

所以当 $x \in \left(-\infty,\dfrac{-a + \sqrt{2a^2 - a}}{a}\right)$ 和 $x \in \left(\dfrac{-a - \sqrt{2a^2 - a}}{a},+\infty\right)$ 时，$f'(x) < 0$，所以 $f(x)$ 单调递减；当 $x \in \left(\dfrac{-a + \sqrt{2a^2 - a}}{a},\dfrac{-a - \sqrt{2a^2- a}}{a}\right)$ 时，$f(x) > 0$，所以 $f(x)$ 单调递增。

情况三：

当 $a > \dfrac{1}{2}$ 时，$\Delta > 0$，令 $f'(x) = 0$，则解得的 $x_1$ 和 $x_2 $ 同情况二，此时 $x_1 > x_2$。

所以当 $x \in \left(-\infty,\dfrac{-a - \sqrt{2a^2 - a}}{a}\right)$ 和 $x \in \left(\dfrac{-a + \sqrt{2a^2 - a}}{a},+\infty\right)$ 时，$f'(x) > 0$，所以 $f(x)$ 单调递增；当 $x \in \left(\dfrac{-a - \sqrt{2a^2 - a}}{a},\dfrac{-a + \sqrt{2a^2- a}}{a}\right)$ 时，$f(x) < 0$，所以 $f(x)$ 单调递减。

> 注意：此题中需要判断 $x_1$ 和 $x_2$ 的大小关系，易错点是当 $a < 0$ 时，$x_1 <

### 其它类型导数

#### 解题思路

对于能因式分解的导数先因式分解，然后对每一项求零点再根据零点结合导数分类讨论的**基本原理**进行分类讨论。

> 计算时需要注意，解对数不等式时，必须保证**真数部分 $> 0$**。

#### 例题

例 1：已知函数 $f(x) = (x-a)\sin x + \cos x,x \in (0,\pi)$。当 $a > \dfrac \pi 2$ 时，求函数 $f(x)$ 的单调区间。

分析：

首先求导：

$$
f'(x) = \sin x + (x - a) \cdot \cos x - \sin x = (x - a)\cdot \cos x
$$

考虑将 $x-a$ 和 $\cos x$ 两段分开处理。

$y = \cos x$ 在定义域即 $x \in (0,\pi)$ 上时，当 $0 < x < \dfrac \pi 2$ 时为正，当 $\dfrac \pi 2 < x < \pi$ 上为负，零点为 $x = \dfrac \pi 2$。

$y = x-a$ 的零点为 $x = a$。

然后需要考虑零点是否在定义域内，对于 $y = \cos x$，其零点 $x = \dfrac \pi 2$ 已经在定义域内；对于 $y = x - a$，由于 $a > \dfrac \pi 2$，且定义域为 $x \in (0,\pi)$，所以当 $\dfrac \pi 2 < a < \pi$ 时，零点在定义域内，当 $a \ge \pi$ 时，零点不在定义域内。

最后考虑零点之间的大小关系，由于题目中已经确定 $a > \dfrac \pi 2$，所以无需考虑。

接下来就可以根据 $a$ 的取值范围分类讨论：

当 $a \ge \pi$ 时，$x - a <0$，所以只需要考虑 $\cos x$ 的正负。所以 $x \in \left(0,\dfrac \pi 2\right)$ 时，$\cos x > 0$，此时 $f'(x) < 0$，$f(x)$ 单调递减；$x \in \left(\dfrac \pi 2,\pi\right)$ 时，$\cos x < 0$，$f'(x) > 0$，$f(x)$ 单调递增。

当 $\dfrac \pi 2 < a < \pi$ 时，考虑找到一个与 $f'(x) = (x - a)\cdot \cos x$ 同正负的函数 $g(x)$，绘制出 $g(x)$ 的图象来判断 $f'(x)$ 的正负。这里只需要找到一个函数 $g(x)$ 使得其正负分布与 $y = \cos x$ 正负分布相同即可。当 $g(x) = - x + \dfrac \pi 2$ 时，$g(x)$ 与 $\cos x$ 在 $(0,\pi)$ 上同正负。所以 $f'(x)$ 与 $F(x) = -(x-a)\left(x - \dfrac \pi 2\right)$ 在定义域上同正负。此时 $F(x)$ 为二次函数，开口向下，有两个零点，定义域上有三个正负区间。

所以 $x \in \left(0,\dfrac \pi 2\right)$ 和 $x \in (a,\pi)$ 时，$f'(x) < 0$，$f(x)$ 单调递减；$x \in \left(\dfrac \pi 2,a\right)$ 时，$f'(x) > 0$，$f(x)$ 单调递增。

> 总结&技巧：
>
> 当函数的正负分布不容易直接求解，且函数图象此时不易画出时，可以考虑构造一个在定义域上正负分布与所求函数相同的函数，绘制出新函数的图像然后再求解。
>
> 一般情况下，若所求函数有两个正负区间，则可以考虑替换成一次函数，例如本题中的 $y = \cos x$；若所求函数有三个正负区间，则可以考虑替换成二次函数。
>
> 这里正负替换的过程不应该写在卷面上。

---

例 2：已知函数 $f(x) = x^3 + ax + \dfrac 1 4,g(x) = - \ln x$。用 $\min\{m,n\}$ 表示 $m,n$ 中的最小值，设函数 $h(x) = \min\{f(x),g(x)\}(x >0 )$，讨论 $h(x)$ 零点的个数。

分析：

此题的一般解法是直接考虑求出 $h(x)$，然后求得何时 $f(x)$ 较小，何时 $g(x)$ 较小，分类讨论求解，但此类方法整体思路较为复杂，计算量较大。

考虑题目求的是「$h(x)$ 零点的个数」，发现其实实际上并不需要求出 $h(x)$。我们可以考虑直接从「零点入手」，那么若 $h(x) = 0$，根据 $h(x) = \min\{f(x),g(x)\}$ 可知，对于 $x = x_0$，当 $f(x_0)$ 或 $g(x_0)$ 其中一个为 $0$，另一个大于等于 $0$ 时，$h(x)$ 在 $x = x_0$ 处函数值为 $0$，即 $x_0$ 是 $h(x)$ 的一个零点。

换句话说，$h(x) = 0$ 当且仅当以下两种情况：

- $f(x) = 0$ 且 $g(x) \ge 0$；
- $g(x) = 0$ 且 $f(x) \ge 0$。

对于两种情况分类讨论求解。

首先由于 $g(x)$ 是个确定的函数，我们先讨论第二种情况。

令 $g(x) = 0$，即 $-\ln x = 0$，解得 $x = 1$。那么当 $x = 1$ 时，$f(x) = 1 + a + \dfrac 1 4 = a + \dfrac 5 4$。则：

- 当 $f(x) = a + \dfrac 5 4 \ge 0$ 即 $a \ge - \dfrac 5 4$ 时，$h(x) = g(x)$，且 $h(x)$ 在 $x = 1$ 处有零点。
- 当 $f(x) = a + \dfrac 5 4 < 0$ 即 $a < - \dfrac 5 4$ 时，$h(x) = f(x)$，且 $h(x)$ 在 $x = 1$ 处无零点。

然后讨论第一种情况。

由于 $g(x) = - \ln x$ 在 $x \in (0,1)$ 上本身恒 $> 0$，所以在 $(0,1)$ 上 $h(x) = f(x)$，$h(x)$ 的零点与 $f(x)$ 相同，只需要讨论 $f(x)$ 的零点情况。

那么有

$$
f(x) = x^3 + ax + \dfrac 1 4 \implies f'(x) = 3x^2 + a
$$

令 $f'(x) = 0$，则有两种情况：

- $a \ge 0$，则此时 $f'(x)$ 有 $1$ 个或没有零点，此时 $f'(x) > 0$，$f(x)$ 在 $(0,1)$ 上单调递增。
- $a \le 0$，则此时 $3x^2 = -a$，解得 $x_1 = -\sqrt{- \dfrac a 3}$，$x_2 = \sqrt{-\dfrac a 3}$，即 $f'(x)$ 有两个零点。

对于第二种情况，需讨论 $f'(x)$ 的零点是否在定义域内，由于 $x_1 < 0$，所以一定不在定义域内；对于 $x_2$，令 $\sqrt{- \dfrac a 3} = 0$ 和 $\sqrt{-\dfrac a 3} = 1$ 解得 $a = 0$ 和 $a = -3$。

所以总的来说，需要讨论三种情况：$a \ge 0$，$-3 < a < 0$，$a \le -3$。其中 $a \ge 0$ 和 $a \le -3$ 两种情况较为简单，所以我们先讨论这两种情况。

分类讨论如下：

当 $a \ge 0$ 时，$f'(x)$ 无零点，且 $f'(x) > 0$，所以 $f(x)$ 在 $(0,1)$ 上单调递增，由于 $f(0) = \dfrac 1 4$，所以 $f(x)$ 在 $(0,1)$ 上恒 $> 0$，所以无零点。

当 $a \le -3$ 时，$x_2 \ge 1$，那么画图可知，$f'(x) < 0$，所以 $f(x)$ 在 $(0,1)$ 上单调递减，由于 $f(0) = \dfrac 1 4,f(1) = a + \dfrac 5 4$，此时 $f(1) $ 恒 $< 0$，所以 $f(x)$ 在 $(0,1)$ 上有一个零点。

当 $-3 < a < 0$ 时，$0 < x_2 < 1$，那么画图可知，$f'(x)$ 在 $(0,x_2)$ 上 $< 0$，在 $(x_2,1)$ 上 $> 0$。所以 $f(x)$ 在 $(0,x_2)$ 单调减，在 $(x_2,+\infty)$ 上单调增。

此时有 $f(0) = \dfrac 1 4$，$f(1) = a + \dfrac 5 4$，$f(x_2) = - \dfrac a 3\cdot \sqrt{- \dfrac a 3} + \sqrt{- \dfrac a 3}\cdot a + \dfrac 1 4 = \dfrac 2 3 a \sqrt{- \dfrac a 3} + \dfrac 1 4$。

此时可以通过画图分类讨论如下：

- 当 $f(x_2) = \dfrac 2 3 a \sqrt{- \dfrac a 3} + \dfrac 1 4 > 0$ 时，$- \dfrac 3 4< a < 0$，此时 $f(x) > 0$，$f(x)$ 在 $(0,1)$ 上没有零点。
- 当 $f(x_2) = 0$ 时，$a = - \dfrac 3 4$，此时 $f(x)$ 在 $x = x_2$ 处有一个零点。
- 当 $f(x_2) < 0$ 且 $f(1) > 0$ 时，$- \dfrac 5 4 < a < - \dfrac 4 3$，此时 $f(x)$ 有两个零点。
- 当$f(1) \le 0$ 时，$-3 < a \le - \dfrac 5 4$，此时 $f(x)$ 有一个零点。

综合上述，结合 $h(x) = 0$ 的两种情况可知：

- $a < - \dfrac 5 4$ 或 $a > - \dfrac 3 4$ 时，$h(x)$ 有 $1$ 个零点。
- $a = - \dfrac 5 4$ 或 $a = - \dfrac 3 4$ 时，$h(x)$ 有 $2$ 个零点。
- $- \dfrac 5 4 < a < - \dfrac 3 4$ 时，$h(x)$ 有 $3$ 个零点。

## 恒成立与存在性问题

### 解题思路

#### 方法一

转化法。首先需要将原不等式转化为不等式一边为函数，一边为常数的形式。

对于**恒成立**问题：

$f(x) \ge a$ 恒成立 $\iff$ $f(x)_{\min} \ge a$。

$f(x) \le a$ 恒成立 $\iff$ $f(x)_{\max} \le a$。

对于**存在性**问题：

$\exist ~x$ 使得 $f(x) \le a$ 恒成立 $\iff$ $f(x)_{\min} \le a$。

$\exist ~x$ 使得 $f(x) \ge a$ 恒成立 $\iff$ $f(x)_{\min} \ge a$。

若此时 $f(x)_{\max}/f(x)_{\min}$ 能直接求出来，则考虑直接求出最大/最小值，然后解关于参数的不等式。

若求 $f(x)_{\max}/f(x)_{\min}$ 时，发现函数单调增/减，没有最大值，思路上可以用**极限分析**代替取最大值。若分析完极限发现结论不成立，则可以利用**取特殊点**的方式来证明。

> 注意：这种方法下有时候不一定要求出 $f(x)$ 的单调性，只需要求出其最大值/最小值的正负，或某个点的正负即可。

#### 方法二

参变分离。

通过移项，将带参的部分放在不等式的左边，将不带参的部分放在不等式的右边。然后转化为有关参数 $a$ 的不等式，解不等式，转化为参数小于等于或大于等于某式，将该式当作函数 $g(x)$，则如果是**恒成立问题**，则问题转化为 $a \le g(x)_{\min}$ 或 $a \ge g(x)_{\max}$；如果是**存在性**问题则问题转化为 $a \le g(x)_{\max}$ 或 $a \ge g(x)_{\min}$。求出 $g(x)_{\min}/g(x)_{\max}$ 即可求出参数 $a$ 的取值范围。

> 两种方法选择的标准：哪种方法导数更容易研究，就选哪种方法。
>
> 当不能看出哪种情况更容易时，优先选择参变分离。一般情况下参变分离会更简单，因为方法一中求的是 $f(x)$ 的最值，有参数，可能会存在参数的分类讨论，比较麻烦；方法二求的是 $g(x)$ 的最值，是一个确定的函数，不存在参数的分类讨论，所以更简单。

#### 有关结构相同的不等式的处理

这种技巧在「函数 - 指对函数实战演练 - 解题技巧」中曾提到过，这里再提一次是为了跟导数结合，将此类不等式转化成恒成立问题。

对 $\forall x_1,x_2,\dfrac{f(x_1) - f(x_2)}{x_1 - x_2} > a$ 恒成立的处理：

设 $x_1 < x_2$，则：

$$
\begin{aligned}
& \dfrac{f(x_1) - f(x_2)}{x_1 - x_2} > a\\
\iff & f(x_1) - f(x_2) > ax_1 - ax_2\\
\iff & f(x_1) - ax_1 > f(x_2) - ax_2
\end{aligned}
$$

令 $g(x) = f(x) - ax$，所以 $g(x_1) > g(x_2)$，**由于对任意 $x_1,x_2$ 均成立**，所以 $g(x)$ 单调递增，所以 $g'(x)$ 恒大于 $0$。

所以此类不等式可以转化为函数单调性，再转化为恒成立问题求解。

### 例题

例 1：已知函数 $f(x) = \ln x + ax + 1,a \in \mathrm R$。若不等式 $f(x) \le 0$ 恒成立，求 $a$ 的取值范围。

**解法一**

问题可以转化为 $f(x)_{\max} \le 0$，所以首先考虑能不能求出 $f(x)_{\max}$。

函数定义域为 $x \in(0,+\infty)$，求函数最大值考虑先求导然后判断正负。

那么有：

$$
f'(x) = \dfrac 1 x + a = \dfrac{ax + 1}{x}
$$

此时分母上的 $x$ 恒大于 $0$，只需要考虑分子的正负。

一次导数考虑先讨论 $a$ 的正负。

当 $a \ge 0$ 时，$f'(x) > 0$，所以 $f(x)$ 在定义域上单调递增，当 $x \to +\infty$ 时，$\lim \limits_{x \to +\infty} \ln x = +\infty,\lim \limits_{x \to +\infty} = \begin{cases} +\infty,a > 0\\0,a = 0\end{cases}$，所以 $\lim \limits_{x \to +\infty} f(x) = +\infty$。发现不符合要求 $f(x)_{\max}\le 0$，所以考虑取 $x = 1$，代入 $f(x)$，得 $f(1) = a + 1 > 0$，所以 $f(x) \le 0$ 不恒成立，舍去。

当 $a < 0$ 时，令 $f'(x) = 0$，得 $x = - \dfrac 1 a$。所以 $x \in \left(0,- \dfrac 1 a\right)$ 时，$f'(x) > 0$，$f(x)$ 单调递增；$x \in \left(- \dfrac 1 a, + \infty\right)$ 时，$f'(x) <0$，$f(x)$ 单调递减。所以 $f(x)_{\max} = f\left(- \dfrac 1 a\right) = \ln\left(- \dfrac 1 a\right) \le 0$，所以 $0 < - \dfrac 1 a \le 1$，解得 $a \le -1$。

综上所述，$a$ 的取值范围是 $(-\infty,-1]$。

---

**解法二**

根据题意有

$$
\begin{aligned}
f(x) = \ln x + ax + 1 & \le 0\\
ax & \le - \ln x - 1\\
a & \le - \dfrac{\ln x + 1}{x}
\end{aligned}
$$

令 $g(x) = - \dfrac{\ln x + 1}{x}$，其中 $x > 0$，则 $a \le g(x)_{\min}$。

那么对 $g(x)$ 求导：

$$
g'(x) = - \dfrac{\dfrac 1 x \cdot x - (\ln x + 1)\cdot 1}{x^2} = - \dfrac{1 - \ln x - 1}{x^2} = \dfrac{\ln x}{x^2}
$$

分母 $x^2$ 恒大于 $0$，所以只需要考虑 $\ln x$ 的正负。

则 $x \in (0 , 1)$ 时，$\ln x < 0$，$g'(x) < 0$，所以 $g(x)$ 单调递减；$x \in (1,+\infty)$ 时，$g'(x) > 0$，所以 $g(x)$ 单调递增。

那么函数在 $x = 1$ 上取到最小值，此时 $g(x)_{\max} = g(1) = -1$，所以 $a \le -1$。

---

例 2：已知 $a$ 为实数，函数 $f(x) = a\ln x + x^2 - 4x$，$g(x)  = (a - 2)x$，若 $\exist~x \in \left[\dfrac 1 e,e\right]$，使得 $f(x) \le g(x)$ 成立，求实数 $a$ 的取值范围。

分析：优先考虑参变分离法。

首先考虑对不等式变形：

$$
\begin{aligned}
& f(x) \le g(x)\\
\iff & f(x) - g(x) \le 0 \\
\iff & a\ln x + x^2 - (a + 2)x \le 0\\
\iff & a\ln x - ax + x^2 - 2x \le 0\\
\iff & a(x - \ln x)\ge x^2 - 2x&(1)\\
\end{aligned}
$$

令 $h(x) = x - \ln x$，则 $x \in (0,+\infty)$，则 $h'(x) = 1 - \dfrac 1 x = \dfrac{x-1}{x}$。

则 $x \in (0,1)$ 时，$h'(x) < 0$，$h(x)$ 单调递减；$x \in (1,+\infty)$ 时，$h'(x) >0$，$h(x)$ 单调递增。

所以 $h(x)_{\min} = h(1) = 1 > 0$，所以 $g(x) = x - \ln x > 0$。

所以对 $(1)$ 式两边同时除以 $x - \ln x$，得：

$$
a \ge \dfrac{x^2 - 2x}{x - \ln x}
$$

设 $m(x) = \dfrac{x^2 - 2x}{x - \ln x}$，则 $a \ge m(x)_{\min}$。

对 $m(x)$ 求导：

$$
\begin{aligned}
m'(x) & = \dfrac{(2x - 2)(x - \ln x) - (x^2 - 2x)\left(1 - \dfrac 1 x\right)}{(x - \ln x)^2}\\
& = \dfrac{2(x - 1)(x - \ln x) - x(x - 2) \cdot \dfrac{x - 1}{x}}{(x - \ln x)^2}\\
& = \dfrac{2(x - 1)(x - \ln x) - (x - 2)(x - 1)}{(x - \ln x)^2}\\
& = \dfrac{(x - 1)(2x - 2 \ln x - x + 2)}{(x - \ln x)^2}\\
& = \dfrac{(x - 1)(x + 2 - 2 \ln x)}{(x - \ln x)^2}
\end{aligned}
$$

其中分母 $(x - \ln x)^2$ 在定义域内恒正，又由于 $x \le e$，所以 $\ln x \le 1$，所以 $x + 2 - 2 \ln x = 2 + 2(1 - \ln x) >0$。所以 $m'(x)$ 的正负只取决于 $x - 1$ 的正负。

则 $x \in \left(\dfrac 1 e,1\right)$ 时，$m'(x) < 0$，$m(x)$ 单调递减；$x \in (1,e)$ 时，$m'(x) > 0$，$m(x)$ 单调递增。

所以 $m(x)_{\min} = m(1) = -1$，所以 $a \ge -1$。

---

例 3：已知函数 $f(x) = \ln (ax + b) + x^2(a \ne 0)$。若 $f(x) \le x^2 + x$ 恒成立，求 $ab$ 的最大值。

分析：

先对不等式变形：

$$
\begin{aligned}
& f(x) \le x^2 + x\\
\iff & \ln (ax + b) + x^2 \le x^2 + x\\
\iff & x - \ln (ax + b) \ge 0\\
\end{aligned}
$$

令 $g(x) = x - \ln (ax + b)$，则 $g(x) \ge 0$，可转化为 $g(x)_{\min} \ge 0$。

考虑定义域，需要满足 $ax + b > 0$，则 $ax > -b$，发现 $a$ 的正负不同时，定义域不同，所以考虑分类讨论 $a$ 的正负。

当 $a >0$ 时：

此时定义域为 $x \in \left(- \dfrac b a,+\infty\right)$。对 $g(x)$ 求导：

$$
g'(x) = 1 - \dfrac{a}{ax + b} = \dfrac{ax + b - a}{ax + b}
$$

分子恒大于 $0$，所以只需考虑分母的正负。

令 $ax + b - a = 0$，则 $x = \dfrac{a - b}{a}$，所以 $g'(x)$ 的零点是 $x = \dfrac{a - b}{a}$，接着考虑零点是否在定义域内。

由于零点 $x = \dfrac{a - b}{a} = 1 - \dfrac b a > - \dfrac b a$，所以零点在定义域内。

那么 $x \in \left(- \dfrac b a,\dfrac{a - b}{a}\right)$ 时，$g'(x) < 0$，$g(x)$ 单调递减；$x \in \left(\dfrac{a - b}{a},+\infty\right)$ 时，$g'(x) > 0$，$g(x)$ 单调递增。

所以

$$
\begin{aligned}
& g(x)_{\min} = g \left(\dfrac{a - b}{a}\right) = \dfrac{a - b}{a} - \ln (a - b + b) = \dfrac{a - b}{a} - \ln a \ge 0 \\
\iff & \dfrac{a - b}{a} \ge \ln a\\
\iff & a - b \ge a \ln a\\
\iff & a(1 - \ln a) \ge b\\
\iff & a b \le a^2(1 - \ln a)
\end{aligned}
$$

令 $h(a) = a^2 (1 - \ln a)$，则 $ab \le h(a)$，由于要求 $ab$ 最大，所以 $ab$ 的最大值即为 $h(a)$ 的最大值。

考虑对 $h(a)$ 求导：

$$
h'(a) = 2a\cdot \left(1 - \ln a \right) + a^2\cdot \left(- \dfrac 1 a\right) = 2a - 2a \ln a - a = a - 2a \ln a = a(1 - 2\ln a)
$$

由于 $a > 0$，所以 $h'(a)$ 的正负取决于 $1 - 2 \ln a$ 的正负。

令 $h'(a) = 0$，则 $1 - 2\ln a = 0$，所以 $a = e^{\frac 1 2}$。则 $a \in \left(0,e^{\frac 1 2}\right)$ 时，$h'(a) > 0$，$h(a)$ 单调递增；$a \in \left(e^{\frac 1 2}, + \infty\right)$ 时，$h'(a) < 0$，$h(a)$ 单调递减。所以 $h(a)_{\max} = h\left(e^{\frac 1 2}\right) = e(1 - \ln e^{\frac 1 2}) = \dfrac 1 2 e$。

所以 $ab$ 的最大值为 $\dfrac 1 2 e$。

---

当 $a < 0$ 时：

此时定义域为 $x \in \left(- \infty,- \dfrac b a\right)$，此时 $g(x)$ 在 $\left(- \infty,- \dfrac b a\right)$ 上单调递增。

当 $x \to -\infty$ 时，$g(x) \to -\infty$，所以 $g(x)_{\min} \ge 0$ 不成立。考虑取点，由于 $ax + b\to +\infty$，$\ln(ax + b) \to +\infty$，根据 $g(x)$ 的表达式可知需要取一个点满足 $\begin{cases}x < 0\\ \ln(ax + b) > 0\end{cases}$，可解得 $x < \dfrac{1 - b}{a}$。

取 $x_0$，满足 $x_0 < 0$ 且 $x_0 < \dfrac{1 - b}{a}$，所以 $ax_0 > 1 - b$，所以 $g(x_0) < 0$，不符合 $g(x) \ge 0$ 恒成立，舍去。

综上所述，$(ab)_{\max} = \dfrac 1 2 e$。

> 总结&技巧：
>
> - 此题需要在定义域开始分类讨论。
> - 对于类似此题两个参数的问题，可以通过消元的方式变成一个参数然后求解。
> - 使用「取点法」求证恒成立不满足时，如果直接不好取点，可以考虑列出对应的点 $x_0$ 所需要满足的不等式然后解不等式求解。

## 导数的零点问题

### 解题方法

#### 研究 $f(x)$ 的零点个数

1. 研究 $f(x)$ 的单调性：一个单调区间上，**最多只有一个**零点。
2. 在每个单调区间 $[a,b]$ 上研究有没有零点：利用零点存在性定理，计算出 $f(a)\cdot f(b)$ 的正负。
   - $f(a)\cdot f(b) < 0 \implies $ 有 $1$ 个零点。
   - $f(a) \cdot f(b) > 0 \implies $ 有 $0$ 个零点。
   - $f(a) = 0$ 或 $f(b) = 0 \implies $ 有 $1$ 个零点。

对于有些带参函数，可以考虑**参变分离**之后转化为量函数的交点（一般其中一个函数图象为水平直线居多），例如求函数 $f(x) = \ln x - ax$ 的零点个数，可以转化为研究 $g(x) = \dfrac{\ln x}{x}$ 和 $y = a$ 的交点个数。

> 对于 $2$ 中，若端点 $a$ 或 $b$ 上的函数值不能直接求出，则考虑研究极限。例如：若单调区间为 $[a,+\infty)$，则研究 $x \to +\infty$ 时，$f(x)$ 的极限。极限法依旧不能直接写在卷面上，需要利用「取点法」代替极限。

> 对于「存在几个（条）」的存在性问题，如果条件可以转化成一个方程，那可以将问题转化为研究方程的零点个数（零点问题）。

#### 求极限

对于简单的函数，即可以直接画出函数图象的函数，直接通过画图象来观察极限。

对于复杂函数（简单函数通过加减乘除得到）：

1. 分别求每个部分的极限。
2. 对每个部分的极限做加减乘除。

关于不同无穷的大小（在函数中提到过）：$x \to +\infty$ 时，$\ln x < x^n < e^x$。

有以下几种类型：

【类型一：可以直接比较的】直接将每一部分的极限相加减即可。

【类型二：需要比较无穷大小的】

- 正无穷 $+$ 负无穷：最终的极限取决于「最大的无穷」。
- $\dfrac{大无穷}{小无穷} = $ 无穷；$\dfrac{小无穷}{大无穷} = 0$。

【类型三：洛必达法则】

适用范围：$\dfrac 0 0$ 或 $\dfrac{\infty}{\infty}$ 型（看不出哪个无穷更大）极限。

内容：

当 $x \to a$ 时，$f(x),g(x) \to 0$ 或 $f(x),g(x) \to +\infty$，则

$$
\lim \limits_{x \to a} \dfrac{f(x)}{g(x)} = \lim \limits_{x \to a} \dfrac{f'(x)}{g'(x)}
$$

有时候得到的 $\lim \limits_{x \to a} \dfrac{f'(x)}{g'(x)}$ 依然不能直接看出其极限，需要再次使用洛必达法则。

例如：求 $f(x) = \dfrac{x}{e^x - 1},x \to 0$ 的极限。

求解：

$$
\lim \limits_{x \to 0} \dfrac{x}{e^x - 1} = \lim \limits_{x \to 0} \dfrac 1 {e^x} = 1
$$

> 需要注意两类极限：
>
> - 趋于无穷：可以将其理解为绝对值极大的数处理。
> - 趋于 $0$：可以将其理解为绝对值极小的数处理。

> 一个趋于 $0$ 的函数取倒数，会趋于 $+\infty$，例如 $x \to 0$ 时，$\dfrac{1}{x} \to +\infty$。

### 例题

例 1：已知函数 $f(x) = \dfrac {x^2} 2 - k\ln x,k > 0$。若 $f(x)$ 存在零点，求 $k$ 的范围？

分析：

首先求出函数定义域为 $x \in (0,+\infty)$。再对 $f(x)$ 求导：

$$
f'(x)= x - \dfrac k x = \dfrac{x^2 - k}{x}
$$

$x \in \left(0,\sqrt k\right)$ 时，$f'(x) < 0$，$f(x)$ 单调递减；$x \in \left(\sqrt k ,+\infty\right)$ 时，$f'(k) > 0$，$f(x)$ 单调递增。

所以此时 $f(x)_{\min} = f\left(\sqrt k\right) = \dfrac k 2 - k \ln \sqrt k$。

由于 $f(x)$ 存在零点，所以 $f(x)_{\min} = \dfrac k 2 - k\ln \sqrt k \le 0$，求得 $k \ge e$。

又由于 $f(x)_{\min} \le 0$ 时**不一定保证存在零点**，还需要验证存在一点 $x_0 \in (0,+\infty)$ 使得 $f(x_0) >0$。所以考虑取 $x_0 = 1$，此时 $f(1) = \dfrac 1 2 > 0$，所以 $k\ge e$ 是函数 $f(x)$ 存在零点。

> 总结&技巧：
>
> 对于此题，$f(x)$ 存在零点可以推出 $f(x)_{\min} \le 0$，但是 $f(x)_{\min} \le 0$ 却不一定能够使得 $f(x)$ 存在零点。所以需要验证存在一点 $x_0$ 属于定义域，使得 $f(x_0) > 0$。
>
> 所以证明题只需要每一步推理正确即可，而**求取值范围必须保证等价。**

---

例 2：已知函数 $f(x) = \ln x - ax,a \in \mathrm R$。讨论函数的零点个数。

分析：

$$
\ln x - ax = 0 \iff \dfrac{\ln x}{x} = a
$$

所以问题转化为研究 $g(x) = \dfrac{\ln x}{x}$ 和 $y = a$ 的交点个数。

先对 $g(x)$ 求导：

$$
g'(x) = \dfrac{\dfrac1 x \cdot x - \ln x \cdot 1}{x^2} = \dfrac{1 - \ln x}{x^2}
$$

所以 $x \in (0,e)$ 时，$g'(x)>0$，$g(x)$ 单调递增；$x \in (e,+\infty)$ 时，$g'(x) < 0$，$g(x)$ 单调递减。

所以 $g(x)_{\max} = g(e) = \dfrac 1 e$。又因为当 $x \to +\infty$ 时，$g(x) \to 0$，当 $x \to 0$ 时，$g(x) \to -\infty$。所以可绘制 $g(x)$ 的函数图象如下：

<img src="https://s2.loli.net/2024/05/20/aVe4qjkMSt7G6Kp.png" style="zoom:50%;" />

则 $a > \dfrac 1 e$ 时，有 $0$ 个零点；$a = \dfrac 1 e$ 或 $a \le 0$ 时，有 $1$ 个零点；$0 < a < \dfrac 1 e$ 时，有 $2$ 个零点。

> 总结&技巧：
>
> - 对于带参函数的零点问题，可以考虑参变分离后转化为函数交点问题。
> - 已知单调性绘制函数图象时，要善用**最值**和**极限**。

---

例 3：已知函数 $f(x) = x - 1 + e^x$，曲线 $y = f(x)$ 与直线 $y = kx -1$ 没有公共点，求 $k$ 的取值范围。

分析：

由于曲线 $y = f(x)$ 与直线 $y = kx -1$ 没有公共点，所以可以转化为 $f(x) = kx -1$ 无解，即 $x+e^x = kx$ 无解。

那么有三种求解思路。

**解法一**

方程 $x + e^x = kx$ 可以转化为 $e^x = (k - 1)x$，即 $y = e^x$ 与 $y = (k - 1)x$ 无公共点，考虑数形结合。

先画出 $y = e^x$ 的图象如下：

<img src="https://s2.loli.net/2024/05/20/PSbNte2nEViozQZ.png" style="zoom:50%;" />

由于 $y = (k - 1)x$ 经过原点，所以问题转化为 $y = e^x$ 与一条经过原点的直线无交点。

那么通过画图可知，直线斜率应该大于等于 $0$ 小于 $y = e^x$ 过原点的切线斜率。

可求得切线斜率为 $k' = e$。所以 $0 \le k-1 < e$，得到 $1 \le k < e + 1$。

> 注意：
>
> 此方法的好处是极快又准，**但是不能用于解答题**，因为有一些结论是从图中直接看出的，并没有合适的依据。所以此方法只适用于选择填空。

**解法二**

将问题转化为 $e^x - (k - 1)x = 0$，即 $g(x) = e^x - (k - 1)x$ 无零点。

考虑对其求导：

$$
g'(x) = e^x - (k - 1)
$$

则当 $k \le 1$ 时，$g'(x) > 0$，$g(x)$ 在 $\mathrm R$ 上单调递增。

- 当 $k < 1$ 时，$x \to +\infty$，此时 $g(x) \to +\infty$；$x \to -\infty$，$g(x) \to - \infty$。所以 $g(x)$ 有零点。
- 当 $k = 1$ 时，$g(x) = e^x > 0$，$g(x)$ 无零点。

当 $k > 1$ 时，令 $g'(x) = 0$ 得 $x = \ln (k - 1)$。

所以 $x \in (-\infty,\ln (k - 1))$ 时，$g'(x) < 0$，$g(x)$ 单调递减；$x \in (\ln (k - 1),+\infty)$ 时，$g'(x) > 0$，$g(x)$ 单调递增。

所以

$$
g(x)_{\min} = g(\ln (k - 1)) = e^{\ln(k - 1)} - (k - 1)\ln (k - 1) = (k - 1)[1 - \ln(k - 1)]
$$

- 当 $g(x)_{\min} > 0$ 即 $1 < k < e + 1$ 时，$g(x)$ 无零点。
- 当 $g(x)_{\min} = 0$ 即 $k = e + 1$ 时，$g(x)$ 有唯一零点 $x = \ln (k - 1) = 1$。
- 当 $g(x)_{\min} < 0$ 即 $k > e + 1$ 时，**当 $x \to +\infty$ 时，$g(x) \to +\infty$，根据「零点存在性定理」可知有零点**。或取 $g(0) = 1 > 0$，所以有零点。

综上，$k$ 的取值范围为 $[1,e + 1)$。

> 总结&技巧：
>
> - 分析极限时，**系数为 $0$** 的情况，通常要拿出来单独讨论，例如本题的 $k = 1$。
> - 最后一步求得 $g(x)_{\min} < 0$ 时，必须利用极限/取点根据「零点存在性定理」判定有零点，否则过程不严谨。

**解法三**

将方程转化为 $1 + \dfrac{e^x}{x} = k(x \ne 0)$，即函数 $y = \dfrac{e^x}{x}$ 与水平直线 $y = k$ 无交点，此时需要分类讨论 $x = 0$ 的情况。

则当 $x = 0$ 时，代入发现方程不成立，舍去。

当 $x \ne 0$ 时，$k = 1 + \dfrac{e^x}{x}$。设 $g(x) = 1 + \dfrac{e^x}{x}$，对 $g(x)$ 求导：

$$
g'(x) = \dfrac{e^xx - e^x}{x^2} = \dfrac{e^x(x - 1)}{x^2}
$$

$x^2$ 和 $e^x$ 恒大于 $0$，则只需要讨论 $x - 1$ 的正负。

当 $x \in (-\infty,0)$ 和 $x \in (0,1)$ 时，$g'(x) < 0$，$g(x)$ 单调递减。

当 $x \in (1,+\infty)$ 时，$g'(x) > 0$，$g(x)$ 单调递增。

由于 $g(1) = 1 + e$，所以：

- $x \to +\infty$ 时，$g(x) \to +\infty$。
- $x \to 0^+$ 时，$g(x) \to +\infty$。
- $x \to 0^-$ 时，$g(x) \to -\infty$。
- $x \to -\infty$ 时，$g(x) \to 1$。

> 这里的 $0^+$ 表示极小的正数（趋于 $0$ 的正数）；$0^-$ 表示极小的负数（趋于 $0$ 的负数）。

> 注意：
>
> - 这种方法求导后讨论 $g(x)$ 单调性时，需要注意 **$x = 0$ 不在定义域内**，所以原函数**有三个单调区间而不是两个单调区间**。
> - 由于单调区间的不同，所以 $x \to 0^+$ 和 $x \to 0^-$ 也要看成两种极限分别讨论。
> - 讨论极限时，对于 $x \to -\infty$ 的情况，此时 $e^x$ 趋于 $0$，$x$ 趋于 $-\infty$，所以二者相除是一个 $<0$ 的绝对值极小的数，用 $1$ 加上它，会趋于 $1$，所以 $y = 1$ 是函数的一条渐近线。
> - 根据极限讨论可绘制函数图象如下：
>
>   <img src="https://s2.loli.net/2024/05/20/hb75Qon1vMauEgJ.png" style="zoom:50%;" />

## 隐零点

### 基本知识

#### 概念

函数存在零点但零点无法求出，则该零点叫隐零点。

#### 使用隐零点的条件

使用导数研究函数的单调性，一般需要求导后研究导数 $f'(x)$ 的**正负**。而研究导数的正负有以下两种情况：

- 导数的正负是直接可以求得的，那么直接求解得到正负。
- 导数的正负不能直接求，那么一般需要先求出**导数的单调性**，再求出**导数的零点**。那么在研究导数的零点时有三种情况：
  - 无零点。那么直接根据单调性判断即可，导数恒正或恒负。
  - 有可求零点。那么直接求出导数的零点判断即可。
  - 有零点但不可求。**这种情况下需要使用隐零点**。

所以使用隐零点有以下三个条件：

1. 导数的正负不能直接判断。
2. 导数的单调性明确。
3. 导数有零点且不能直接求出。

#### 使用方法

1. 通过「零点存在性定理」证明隐零点存在：一般选取特殊点证明，特殊点一般是**区间端点**，若区间端点不能算出，可先对区间端点处做极限分析，然后选取其它区间内部的点证明。
2. 使用隐零点：利用零点方程 $f'(x_0) = 0$ 将式中比较难计算的式子代换成比较好计算的式子做代换，例如下面例题中通过零点方程将 $e^{x_0}$ 和 $- \ln x_0$ 替换成其它式子。

> 注：
>
> - 在取点证明零点存在时，有可能需要用到「卡根」来求出 $x_0$ 的范围，以便后续的计算。
> - 在利用零点方程时，若要证的式子中含有参数，可以考虑「代换」将参数代换为 $x_0$；若得到的零点方程本身不好处理，也可以考虑「同构」将等号两边转化成同一个函数的不同函数值，再根据对应函数的性质求解。

> 注意：题目中可能会出现「函数有隐零点但用不上」的情况，例如下图的情况，可能会让你求出在图示画出的区间内的最大值，那么此时就无法用到隐零点（隐零点是区间最小值），但依然要同构零点存在性定理证明隐零点存在，因为这样才能说明函数的单调性情况。
>
> <img src="https://s2.loli.net/2024/09/18/fCBtQVlXJ8IUWNA.png" alt="image-20240918235538666.png" style="zoom:50%;" />

### 例题

例 1：证明 $e^x - \ln x > 2$。

求解：

设 $f(x) = e^x - \ln x,x > 0$，那么 $f'(x) = e^x - \dfrac 1 x$，$f'(x)$ 在 $(0,+\infty)$ 上单调递增。

> 分析：
>
> 当 $x \to 0^+$ 时，$e^x \to 1$，$\dfrac 1 x \to +\infty$，所以 $f'(x) \to -\infty$；当 $x \to +\infty$ 时，$e^x \to +\infty$，$\dfrac 1 x \to 0^+$，所以 $f'(x) \to +\infty$。
>
> 所以 $f'(x)$ 先为负后为正，所以 $f(x)$ 在定义域 $(0,+\infty)$ 上先减小后增大。所以 $f(x)$ 在定义域上存在最小值。设最小值点为 $x_0$，那么原题可以转化为证明 $f(x_0) > 2$。可推得 $x_0$ 是 $f'(x)$ 的隐零点。
>
> 这里的极限法高中阶段不能直接使用，高中阶段只能使用「零点存在性定理」来证明，这里需要选择两个点 $x_1$ 和 $x_2$ 使得 $f’(x_1) < 0$，$f'(x_2) > 0$，具体过程详见下述。

取 $x_1= 1$ 则 $f'(x) = e - 1 > 0$，取 $x_2 = \dfrac 1 2$ 则 $f'\left(\dfrac 1 2 \right) = \sqrt e - 2 < 0$，那么由于 $f'(x_1) < 0,f'(x_2) > 0$，所以 $f'(x)$ 在 $\left(\dfrac 1 2,1\right)$ 上存在唯一零点 $x_0$，即 $e^{x_0} = \dfrac 1 {x_0}$。

所以当 $x \in (0,x_0)$ 时，$f'(x) < 0$，$f(x)$ 单调递减；当 $x \in (x_0,+\infty)$ 时，$f'(x) > 0$，$f(x)$ 单调递增。

所以 $f(x)_{\min} = f(x_0) = e^{x_0} - \ln x_0$。

又因为 $e^{x_0} = \dfrac 1 {x_0}$，所以 $\ln e^{x_0} = \ln \dfrac{1}{x_0}$，即 $x_0 = - \ln x_0$，代入 $f(x)_{\min}$ 得到 $f(x)_{\min} = \dfrac 1 {x_0} + x_0 \ge 2\sqrt{x_0 \cdot \dfrac 1 {x_0}} = 2$。

因为 $x_0 \in \left(\dfrac 1 2,1\right)$，所以 $x_0 \ne 1$，所以 $\dfrac 1 {x_0} + x_0 > 2$，即 $f(x) > 2$。

或 因为零点方程的 $e^{x_0} = \dfrac 1 {x_0}$ 的解一定不为 $1$，所以 $x_0 \ne 1$，所以 $\dfrac 1 {x_0} + x_0 > 2$，即 $f(x) > 2$。

> 注意：使用隐零点解题时，只有写出零点方程才能证明 $x_0$ 是零点。

---

例 2：设函数 $f(x) = e^{2x} - a\ln x$。证明：当 $a > 0$ 时，$f(x) \ge 2a + a \ln \dfrac 2 a$。

证明：

因为 $f(x) = e^{2x} - a \ln x$，所以 $x > 0$，且 $f'(x) = 2 e^{2x} - \dfrac a x$。因为 $a > 0$，所以 $f'(x)$ 在 $(0,+\infty)$ 上单调递增。

又因为 $f'(a) = 2e^{2a} - 1 > 0$，设 $b = \dfrac 1 2 \min\left\{\dfrac 1 2,\dfrac a {2e}\right\}$，则
$$
2e^{2b} < 2e^{2 \times \frac 1 2} = 2e \\
- \dfrac a b < - \dfrac{a}{\dfrac a {2e}} = - 2e
$$
所以 $f'(b) = 2e^{2b} - \dfrac a b < 2e - 2e = 0$。所以 $f'(x)$ 在 $(b,a)$ 上有唯一零点 $x_0$，即 $2e^{2x_0} = \dfrac a {x_0}$。

> 这里取点 $x = b$ 的逻辑：
>
> 要满足 $b < \dfrac 1 2$ 且 $b < \dfrac a {2e}$，主要是为了使得 $f'(x) = 2e^{2x} - \dfrac a x$ 中的 $2e^{2x} < 2e$ 且 $- \dfrac a x < -2e$，从而使得 $f'(b) < 0$。具体的取点方法将在以后有关零点的问题中详解。 

那么对于零点方程变形得：
$$
\begin{aligned}
& 2e^{2x_0} = \dfrac a {x_0}\\
\implies & \ln (2e^{2x_0}) = \ln a - \ln x_0 \\
\implies & \ln 2 + \ln (e^{2x_0}) = \ln a - \ln x_0\\
\implies & \ln 2 + 2x_0 = \ln a - \ln x_0\\
\implies & \ln x_0 = \ln \dfrac a 2 - 2x_0
\end{aligned}
$$
所以当 $x \in (0,x_0)$ 时，$f'(x) < 0$，$f(x)$ 单调递减；当 $x \in (x_0,+\infty)$ 时，$f'(x) > 0$，$f(x)$ 单调递增。

所以 $f(x)_{\min} = f(x_0) = e^{2x_0} - a\ln x_0$。

所以只需要证明 $f(x)_{\min} \ge 2a + a \ln \dfrac 2 a $ 即可，有两种方法。

【法一】
$$
\begin{aligned}
f(x_0) & = e^{2x_0} - a \ln x_0\\
& = \dfrac a {2x_0} - a\left(\ln \dfrac a 2 - 2 x_0\right)\\
& = \dfrac a {2x_0} + 2a x_0 + a \ln \dfrac 2 a\\
& \ge 2 \sqrt{\dfrac{a}{2x_0}\cdot 2ax_0} + a \ln \dfrac 2 a\\
& = 2a + a \ln \dfrac 2 a
\end{aligned}
$$
【法二】

代换掉参数 $a$。
$$
2e^{2x_0} = \dfrac a {x_0} = a = 2x_0 e^{2x_0}
$$
考虑将不等式移项，则需要证明 $f(x) - 2a - a \ln \dfrac 2 a \ge 0$，那么有：
$$
\begin{aligned}
f(x) - 2a - a \ln \dfrac 2 a& = e^{2x_0} - a\ln x_0 - 2a - a \ln \dfrac 2 a\\
& = e^{2x_0} - 2x_0 e^{2x_0} \ln x_0 - 4 x_0 e^{2x_0} - 2x_0 e^{2x_0} \cdot \ln \dfrac{1}{x_0 e^{2x_0}}\\
& = e^{2x_0} - 2x_0 e^{2x_0} \ln x_0 - 4 x_0 e^{2x_0} + 2 x_0 e^{2x_0} \cdot ( \ln x_0 + 2x_0)\\
& = e^{2x_0} - 2x_0 e^{2x_0} \ln x_0 - 4 x_0 e^{2x_0} + 2 x_0 e^{2x_0} \ln x_0 + 4{x_0}^2 e^{2x_0}\\
& = e^{2x_0} ( 1 - 4x_0 + 4{x_0}^2) \\
& = e^{2x_0}(2x_0 - 1)^2 \ge 0
\end{aligned}
$$

> 注意：遇到含有参数的式子，可以通过类似消元的方式**代换**掉参数再求解。

---

例 3（杭州 2018 二模）：已知函数 $f(x) = \dfrac{\ln x}{x^2 + x}$，证明：$f(x) < \dfrac{1}{2e + \sqrt e}$。

求解：

因为 $f(x) = \dfrac{\ln x}{x^2 + x}$，所以 $x>0$，求导有：
$$
\begin{aligned}
f'(x) & = \dfrac{\dfrac 1 x (x^2 + x) - (2x + 1)\ln x}{(x^2 + x)^2}\\
& = \dfrac{x+1 - (2x + 1)\ln x}{(x^2 + x)^2}\\
& = \dfrac{(2x + 1)\left(\dfrac{x+1}{2x+1} - \ln x\right)}{(x^2 + x)^2}
\end{aligned}
$$
因为 $x > 0$，所以 $2x + 1 > 0$ 且 $(x^2 + x)^2 > 0$，所以只需要判断 $g(x) = \dfrac{x + 1}{2x + 1} - \ln x$ 的正负。

那么
$$
g(x) = \dfrac{\dfrac 1 2 (2x + 1) + \dfrac 1 2}{2x + 1} -\ln x = \dfrac 1 2 + \dfrac{1}{4x + 2} - \ln x
$$
所以 $g(x)$ 单调递减。

又因为 $g(e) =  \dfrac 1 2 + \dfrac 1 {4e + 2} - 1 = \dfrac{1}{4e + 2} - \dfrac 1 2 < 0$，$g'(\sqrt e) = \dfrac 1 2 + \dfrac{1}{4 \sqrt e + 2} - \dfrac 1 2 > 0$。

所以 $g(x)$ 在 $(\sqrt e,e)$ 上有唯一零点 $x_0$，即 $\ln x_0 = \dfrac{x_0 + 1}{2x_0 + 1}$。

所以当 $x \in (0,x_0)$ 时，$g(x) > 0$，$f'(x) > 0$，$f(x)$ 单调递增；当 $x \in (x_0,+\infty)$ 时，$g(x) < 0$，$f'(x) < 0$，$f(x)$ 单调递增。

所以 
$$
f(x)_{\max} = f(x_0) = \dfrac{\ln x_0}{{x_0}^2 + x_0} = \dfrac{\dfrac{x_0 + 1}{2x_0 + 1}}{x_0(x_0 + 1)} = \dfrac{1}{x_0(2x_0 + 1)}
$$
因为 $\sqrt e < x_0 < e$，所以
$$
\dfrac{1}{x_0(2x_0 + 1)} < \dfrac{1}{\sqrt e (2 \sqrt e + 1)} = \dfrac{1}{2e + \sqrt e}
$$
所以 $f(x) < \dfrac{1}{2e + \sqrt e}$。

> 总结：
>
> - 减少求导次数：在考虑 $f(x)$ 的导数 $f'(x)$ 的正负时，如果不进行变形，则需要三次求导，较为复杂，且后续处理零点方程时不易处理。由于需要三次求导的原因是 $f'(x)$ 中的 $(2x + 1)\ln x$ 求导后会使得整个函数的单调性不好判断，所以考虑想办法变形使得单调性更好判断，那么考虑提出 $2x + 1$。一般情况下，若求导得到的式子中 $\ln x$ 前还有其它式子，即有形如 $g(x)\cdot \ln x$ 的式子，可以考虑提公因式 $g(x)$ 从而消去 $\ln x$ 前面的式子，避免多次求导。
> - 卡根：由于最后证明的是 $f(x) < \dfrac{1}{2e + \sqrt e}$，实际上 $\dfrac{1}{2e + \sqrt e}$ 是 $x_0 = \sqrt e$ 时 $f(x_0)$ 的值，那么在前面取点确定 $x_0$ 范围时，可以直接将 $\sqrt e$ 作为一个临界值，从而找到 $x_0$ 合适的范围。卡根主要是为了满足题目要求，不一定非得将题目条件中的某个特殊点确定为 $x_0$ 的边界。

----

例 4：求 $f(x) = \dfrac{xe^x - \ln x - 1}{x}$ 的最小值。

求解：

因为 $f(x) = \dfrac{xe^x - \ln x - 1}{x}$，所以 $x > 0$，求导：
$$
f'(x) = e^x - \dfrac{\dfrac 1 x \cdot x + (\ln x + 1)}{x^2} = e^x + \dfrac{\ln x}{x^2} = \dfrac{x^2 e^x + \ln x}{x^2}
$$
令 $g(x) = x^2 e^x + \ln x $，则 $g(x)$ 在 $(0,+\infty)$ 单调递增。

因为 $g(1) = e > 0,g\left(\dfrac 1 e\right) = \dfrac{1}{e^2} e^{\frac 1 e} - 1 = \dfrac{e^{\frac 1 e} - e^2}{e^2} < 0$

所以 $g(x)$ 在 $\left(\dfrac 1 e,1\right)$ 上有唯一零点 $x_0$，即 ${x_0}^2 e^{x_0} + \ln x_0 = 0$。

当 $x \in (0,x_0)$ 时，$g(x) < 0$，$f'(x) < 0$，$f(x)$ 单调递减；当 $x \in (x_0,+\infty)$ 时，$g(x) > 0$，$f'(x) > 0$，$f(x)$ 单调递增。

又因为
$$
\begin{aligned}
& {x_0}^2 e^{x_0} + \ln x_0 = 0\\
\implies & x_0 e^{x_0} = - \dfrac{\ln x_0}{x_0} = \dfrac{1}{x_0} \ln \dfrac{1}{x_0} = \ln \dfrac{1}{x_0} e^{\ln \frac 1 {x_0}}
\end{aligned}
$$
令 $h(x) = xe^x$，则 $h(x)$ 在 $(0,+\infty)$ 上单调递增。

因为 $h(x_0) = h\left(\ln \dfrac 1 {x_0}\right)$，所以 $x_0 = \ln \dfrac{1}{x_0}$，所以 $e^{x_0} = \dfrac 1{x_0}$。

所以
$$
f(x_0) = \dfrac{x_0e^{x_0} - \ln x_0 - 1}{x_0} = e^{x_0} - \dfrac{\ln x_0 + 1}{x_0} = \dfrac 1 {x_0} - \dfrac{-x_0 + 1}{x_0} = 1
$$
即 $f(x)$ 的最小值为 $1$。

> 总结：
>
> - 求导简化：在对 $f(x)$ 求导时，可以先对 $f(x)$ 变形使得求导变得更简单，例如本题中将 $f(x)$ 中 $\dfrac{xe^x}{x}$ 先拆分为 $e^x$ 然后做运算。
> - 同构：本题最关键的点在于得到零点方程后，将其进行**同构变形**，即将等号两边都转化为同一个函数的两个函数值，然后通过判断函数的相关性质来化简。
