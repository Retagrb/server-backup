# 【数学】数列

## 数列

### 概念

按照一定次序排列的数称为数列。例如：$2,4,6,8,10…$

其中，$a_1$ 表示首项，$a_n$ 表示第 $n$ 项。

### 分类

1. 递增数列：从第 $2$ 项起，每一项都大于它前一项的数列。即 $a_{n+1} > a_n,n \in \mathrm{N^*}$。
2. 递减数列：从第 $2$ 项起，每一项都小于它前一项的数列。即 $a_{n+1}<a_n,n\in \mathrm{N^*}$。
3. 常数列（常数数列）：各项都相等的数列。
4. 摆动数列：有些项大于前一项，有些项小于前一项的数列。

## 等差数列

### 概念

从第 $2$ 项起，每一项与它的前一项之差都等于同一个常数 $d$ 的数列。即：
$$
a_{n+1} - a_n = d,n\in \mathrm{N^*}
$$
其中 $d$ 叫做等差数列的公差。

**等差中项**

若 $x,A,y$ 是等差数列，则 $A$ 为 $x$ 和 $y$ 的等差中项（平均数），即 $A = \dfrac{x+y}{2}$。

### 公式

**通项公式**
$$
\begin{aligned}{}
&a_n = a_1 + (n-1)d\\
&a_n = a_m + (n-m)d
\end{aligned}
$$
变形：等差数列的项数 = $\dfrac{末项 - 首项}{公差} +1$。

**前 $n$ 项和**
$$
\begin{aligned}{}
&S_n = \dfrac{n(a_1 + a_n)}{2}\\
&S_n = na_1 + \dfrac{n(n-1)}{2}d
\end{aligned}
$$

### 性质

**性质一**

适用范围：①题目中存在 $a_m+a_n$ 的形式；②$m+n$ 为偶数。

内容：

$\{a_n\}$ 是等差数列，且 $m,n,p,q \in \mathrm{N^*}$，则：
$$
m + n = p + q \Longrightarrow a_m + a_n = a_p + a_q
$$
其中，左右两边必须保证**项数一致**。

> 推论：若 $m=n$，则 $2a_m = a_p + a_q$。即下标之和的平均数为**偶数**时，对应项之和等于平均数对应项的二倍。
>
> 本质：相当于将两项变为一项，起到了「消元」的作用。
>
> 注意：$2a_m = a_p + a_q$，不要丢掉 $a_m$ 前面的系数 $2$。

**性质二**

适用范围：①等差数列的项数 $n$ 是奇数；②同时出现 $S_n$ 和 $a_n$ 的问题。

内容：

在等差数列 $\{a_n\}$ 中，若 $n$ 为**奇数**，则 前 $n$ 项和 $=$ 项数 $\times$ 中间项，即：
$$
S_n = n a_{\frac{n+1}{2}}
$$

> 注意：不要丢掉 $a_{\frac{n+1}{2}}$ 前的系数 $n$。

**性质三**

适用范围：①题目中**只**出现 $S_k$（即不出现 $a_k$）；②题目中给定的 $S_k$ 中下标 $k$ 存在倍数关系。

本质：将等差数列每 $k$ 个数分成一组，则相邻两组的和**之差**形成的数列为等差数列。

内容：

若等差数列 $\{a_n\}$ 的前 $n$ 项和为 $S_n$，则 $S_k,S_{2k}-S_k,S_{3k}-S_{2k},\cdots(k \in \mathrm{N^*})$ 成等差数列， 公差为 $k^2d$。

> 注意：是相邻两组的和**之差**形成的数列为等差数列，而非相邻两组的和形成的数列。

### 从函数观点看等差数列

数列是特殊的函数，特殊之处在于 $n \in \mathrm{N^*}$。

**通项**
$$
\begin{aligned}{}
a_n & = a_1 + (n-1)d\\
& = dn + a_1 - d
\end{aligned}
$$
即当 $d\ne 0$ 时，$a_n$ 是关于 $n$ 的一次函数，其中 $d$ 是它的一次项系数。

所以当题目给定 $a_n = kn + b$ 时，$d=k,a_1-d = b$。

**前 $n$ 项和**
$$
\begin{aligned}{}
S_n &= na_1 + \dfrac{n(n-1)}{2}d\\
&= na_1 + \dfrac{n^2}{2} \cdot d - \dfrac{n}{2}\cdot d\\
&= \dfrac{d}{2} \cdot n^2 + (a_1 - \dfrac{d}{2})\cdot n
\end{aligned}
$$
即当 $d\ne 0$ 时，$S_n$ 是关于 $n$ 的二次函数，且不含常数项。

令 $\dfrac{d}{2} = A,a_1 -\dfrac{d}{2} = B$。所以若 $S_n = An^2 + Bn \iff S_n$ 为等差数列 $\{a_n\}$ 的前 $n$ 项和，即所有的 $S_n$ 都可以写成 $An^2 + Bn$ 的形式，能写成 $A_n^2+Bn$ 的 $S_n$ 也一定是某等差数列的前 $n$ 项和。

适用范围：若题目中只出现 $S_n$，可设 $S_n = An^2 + Bn$ 求解。

对于涉及到 $S_n$ 的正负问题：

有
$$
\begin{aligned}{}
S_n = An^2 + Bn = n\cdot (An + B)
\end{aligned}
$$
因为 $n\in \mathrm{N^*}$，所以当 $A_n + B >0$ 时，$S_n > 0$；当 $A_n + B < 0 $ 时，$S_n < 0$。

例 1：设等差数列 $\{a_n\}$ 的前 $n$ 项和为 $S_n$，若 $S_6 > S_7 > S_5$，则满足 $S_n S_{n+1} <0$ 的正整数 $n$ 的值是多少。

设 $S_n = An^2 + Bn = n(An + B)$。则：
$$
S_6 > S_7 \Longrightarrow 13 A + B <0\\
S_7 > S_5 \Longrightarrow 12 A + B >0
$$
所以 $S_{13} = 13(13A +B)<0,S_{12} = 12(12A + B)>0$，所以 $S_{12} \cdot S_{13} <0$，所以符合条件的 $n=12$。

例 2：设等差数列 $\{a_n\}$ 的前 $n$ 项和为 $S_n$，若 $S_n = m,S_m = n$，且 $n\ne m$，则 $S_{m+n}$ 是多少。

设 $S_n = An^2 + Bn$，则：
$$
\begin{cases}{}
An^2 + Bn = m & (1)\\
Am^2 + Bm = n & (2) 
\end{cases}
$$
$(2) - (1)$ 得：
$$
A(m-n)(m+n)+B(m-n) = -(m-n) \ce{->[m-n \ne 0]} A(m+n) +B = -1
$$
所以
$$
\begin{aligned}{}
S_{m+n} &= A(m+n)^2 + B(m+n)\\
&=(m+n)[A(m+n)+B]\\
&=-(m+n)
\end{aligned}
$$


### 解题方法

**基本量法**

将题目中所有的信息全部用 $a_1$ 和 $d$ 这两个基本量表示，一般利用以下两个公式：
$$
\begin{cases}{}
a_n = a_1 + (n-1)d\\
S_n = na_1 + \dfrac{n(n-1)}{2}d
\end{cases}
$$
**性质法**

根据每条性质的适用范围选择合适的性质求解问题。

## 等比数列

### 概念

从第 $2$ 项起，每一项与前一项之比都等于同一个非零常数 $q$ 的数列。即：
$$
\dfrac{a_{n+1}}{a_n} = q,n\in \mathrm{N^*},q\ne 0
$$
其中 $q$ 叫做等比数列的公比。

> 注意：等比数列中没有 $0$（分母不为 $0$），且公比 $q$ 不为 $0$。
>
> 所以在判断一个数列是否是等比数列时，需要确认等比数列中**是否可能出现 $0$**。

> 隐藏条件：等比数列中所有的奇数项都是同号的，所有的偶数项也都是同号的。
>
> 这个性质在求等比中项的正负时会用到。例如：已知 $a_1 = 1,a_9 = 16$，所以 $a_5^2 = 16$。由于 $a_5$ 与 $a_1$ 和 $a_9$ 同号，所以 $a_5 = 4$。

**等比中项**

若 $x,G,y$ 是等比数列，则 $G$ 为 $x$ 和 $y$ 的等比中项，即 $G^2 = xy$。

### 公式

**通项公式**
$$
\begin{aligned}{}
&a_n = a_1 q^{n-1}(a_1 \ne 0,q\ne 0)\\
&a_n = a_m q^{n-m}
\end{aligned}
$$
**前 $n$ 项和**
$$
S_n=
\begin{cases}
na_1,q = 1\\\\
\dfrac{a_1(1-q^n)}{1-q}=\dfrac{a_1(q^n - 1)}{q-1},q\ne 1
\end{cases}
$$
**前 $n$ 项积**
$$
\begin{aligned}
&a_1 a_2\cdots a_n&\\
=&a_1(a_1q)(a_1q^2)\cdots(a_1q^{n-1})\\
=&a_1q^{\frac{n(n-1)}{2}}
\end{aligned}
$$
对于涉及到积的最值问题：一般判断积的最值都只需要找到何时 $a_n >1$ 或 $a_n<1$，其中间的下标即为使得等比数列前 $n$ 项积最大/最小的位置。

### 增减性

对于等比数列 $\{a_n\}$ 的首项为 $a_1$，公比为 $q$。

判断数列增减性的常见方法是判断 $a_{n+1} - a_n$ 的符号，那么有：
$$
a_{n+1}-a_n = a_1 q^n - a_1 q^{n-1} = a_1 q^{n-1}(q-1)
$$
有以下几种情况：

- 当 $q=1$ 时，$\{a_n\}$ 是常数列；
- 当 $q<0$ 时，$\{a_n\}$ 是摆动数列；
- 当 $q > 0$ 且 $q \ne 1$ 时：
  - 当 $a_1(q-1) >0$，即 $a_1>0,q>1$ 或 $a_1 <0,0<q<1$ 时，$\{a_n\}$ 是递增序列；
  - 当 $a_1(q-1)<0$，即 $a_1 >0,0<q<1$ 或 $a_1 <0,q>1$ 时，$\{a_n\}$ 是递减序列。

### 性质

**性质一**

适用范围：①题目中存在 $a_m\cdot a_n$ 的形式；②$m+n$ 为偶数。

内容：

$\{a_n\}$ 是等差数列，且 $m,n,p,q \in \mathrm{N^*}$，则：
$$
m + n = p + q \Longrightarrow a_m \cdot a_n = a_p \cdot a_q
$$
其中，左右两边必须保证**项数一致**。

> 推论：若 $m=n$，则 $a_m^2 = a_p \cdot a_q$。即下标之和的平均数为**偶数**时，对应项之积等于平均数对应项的平方。
>
> 本质：相当于将两项变为一项，起到了「消元」的作用。
>
> 注意：$a_m^2 = a_p \cdot a_q$，不要丢掉 $a_m$ 前面的系数 $2$。

**性质二**

适用范围：①题目中**只**出现 $S_k$（即不出现 $a_k$）；②题目中给定的 $S_k$ 中下标 $k$ 存在倍数关系。

本质：将等比数列每 $k$ 个数分成一组，则相邻两组的和**之差**形成的数列为等比数列。

内容：

等比数列 $\{a_n\}$ 的前 $n$ 项和为 $S_n$。若 $S_k,S_{2k}-S_k,S_{3k}-S_{2k},\cdots(k\in \mathrm{N^*})$ 其中没有 $0$，则 $S_k,S_{2k}-S_k,S_{3k}-S_{2k},\cdots(k\in \mathrm{N^*})$ 成等比数列，公比为 $q^k$。

> 注意：是相邻两组的和**之差**形成的数列为等比数列，而非相邻两组的和形成的数列。

### 从函数观点看等比数列

**通项**
$$
\begin{aligned}{}
a_n & = a_1 q^{n-1}\\
& = \dfrac{a_1}{q} \cdot q^n
\end{aligned}
$$
即当 $q>1$ 且 $q \ne 1$ 时，$a_n$ 是一个指数函数。

**前 $n$ 项和**
$$
\begin{aligned}
S_n & =\dfrac{a_1(1-q^n)}{1-q}(q\ne 1)\\
&=\dfrac{a_1}{q-1}q^n -\dfrac{a_1}{q-1}
\end{aligned}
$$
令 $\dfrac{a_1}{q-1} = A$。所以当 $q\ne 1$ 时，若 $S_n = Aq^n -A(A\ne 0) \iff S_n$ 为等比数列 $\{a_n\}$ 的前 $n$ 项和，即所有的 $S_n$ 都可以写成 $Aq^n -A(A\ne 0)$ 的形式，能写成 $Aq^n -A(A\ne 0)$ 的 $S_n$ 也一定是某等差数列的前 $n$ 项和。

适用范围：若题目中只出现 $S_n$，可设 $S_n = Aq^n -A(A\ne 0)$ 求解。

> 注意：利用该式求解时，$q\ne 1$。

例：等比数列 $\{a_n\}$ 的前 $n$ 项和为 $S_n$，若 $S_3 = 2,S_6 = 18$，则 $\dfrac{S_{10}}{S_{5}}$ 是多少。

根据 $S_3 = 2,S_6 = 18$，得 $q\ne 1$。

设 $S_n = Aq^n - A = A(q^n - 1)$，则：
$$
\dfrac{S_{10}}{S_5} = \dfrac{A(q^{10} - 1)}{A(q^5 - 1)}=\dfrac{(q^5-1)(q^5+1)}{q^5-1} = q^5 + 1
$$
且
$$
\begin{cases}
S_3 = A(q^3 - 1) = 2&(1)\\
S_6 = A(q^6 - 1) = 18&(2)
\end{cases}
$$
$\dfrac{(2)}{(1)}$ 得：
$$
\dfrac{q^6 - 1}{q^3 - 1} = q^3 + 1 = 9 \Longrightarrow q = 2 \Longrightarrow \dfrac{S_{10}}{S_5} = q^5 +1 =33
$$

> 注意：计算时尽量能化简则化简后再计算。例如 $\dfrac{A(q^{10} - 1)}{A(q^5 - 1)} = q^5 +1$。

### 解题方法

**基本量法**

三种转化方式：

- 转化为 $a_1$ 和 $q$；
- 转化为**已知**的 $a_i$ 和 $q$。
- 转化为**下标最小**的 $a_i$。

> 注意：等比数列中均转化为 $a_1$ 和 $q$ 计算量可能较大，所以有时候需要根据题目考虑选择另外两种转化方式。

### 解题技巧及注意事项

1. 等比数列中将表达式中的 $a_1$ 提出来是个较为常见的技巧。例如 $a_1+a_2 = 12 \to a_1(1+q) = 12$。
2. 等比数列中告诉某两个与 $a$ 有关的等式，可以考虑「先相除后约分」，即将两等式中的公因式提出来（例如 $a_1$），然后将两等式相除，再约分之后求解。
3. 注意看题目问的是 $a_n$ 还是 $S_n$，不要弄混。
4. 遇到「取整函数」，可考虑求出结果为整数的项的下标，然后求解。

## 等差等比拓展

### 题型一：等差（比）中项判定等差（比）数列

**等差中项判定等差数列**

若
$$
a_{n-1}+a_{n+1}=2a_n,n\ge 2
$$
则说明 $\{a_n\}$ 是等差数列。

> 补充：等差中项的性质也可以写成 $a_n + a_{n+2} = 2a_{n+1},n\in \mathrm{N^*}$，也能推出等差数列。

**等比中项判定等比数列**

若
$$
a_{n-1}\cdot a_{n+1} = {an}^2,n \ge 2,且 ~a_n \ne 0
$$
则说明 $\{a_n\}$ 是等比数列。

### 题型二：$a_{m+n}$ 型数列

**类型一**

若数列 $\{a_n\}$ 满足：
$$
a_{m+n} = a_m + a_n,m,n \in \mathrm{N^*}
$$
那么有：
$$
a_n = na_1
$$
即 $\{a_n\}$ 是公差和首项相等的等差数列。

**类型二**

若数列 $\{a_n\}$ 满足：
$$
a_{m+n} = a_m \cdot a_n,m,n\in \mathrm{N^*}，且~a_1 \ne 0
$$
那么有：
$$
a_n = {a_1}^n
$$
即 $\{a_n\}$ 是公比和首项相等的等比数列。

### 题型三：两个数列的项

问题：求解两个数列通过变化（公共项或一个数列减去另一个数列中的项）得到的新数列相关的问题。

求解思路：

- 若得到的新数列是**特殊数列**或**存在明显规律**的问题：直接求解。例如两个等差数列的公共项也构成等差数列，并且其公差是两个等差数列公差的**最小公倍数**，其手相可通过列举法得到；
- 若不存在明显规律：观察新数列中的项是由给定的两个数列的哪些项组成的，在根据已知的两个数列的性质求解问题。

## 数列增减性

**判断方法**

1. 求出通项公式，将数列看成函数来判断：其增减性与函数相同；
2. 利用数列增减性的定义，即求出 $a_{n+1} - a_{n}$ 的正负：若 $a_{n+1} - a_n >0$，则是递增数列；若 $a_{n+1}  - a_n < 0$，则是递减数列。

其中若题目**未知**通项公式，一般采用第二种方法求解。

> 注意：第二种方法求解增减性时，可能要判断数列中任意一项 $a_n$ 与某个常数的大小关系，可考虑「基本不等式」。

**应用**

- 直接已知数列求数列增减性。注意：若要求的数列是**分式**，可考虑「分离常数」求解函数增减性。
- 已知数列求数列最值。注意：求解最大值时，**最后一个 $a_{n+1} > a_n$ 的 $n$** 并不是使得 **$a_n$ 最大**的 $n$，使得 $a_n$ 最大的 $n$ 是 $n+1$。
- 已知数列的增减性求数列中某参数的取值范围。
